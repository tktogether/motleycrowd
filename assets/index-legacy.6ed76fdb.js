!function(){function e(e){return u(e)||i(e)||p(e)||o()}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return d(e)}(e)||i(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){return u(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(u){o=!0,a=u}finally{try{s||null==r.return||r.return()}finally{if(o)throw a}}return i}(e,t)||p(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){if(Array.isArray(e))return e}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=l(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(arguments.length<3?e:r):a.value}},c.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(e,t){E(e,t),t.add(e)}function m(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function x(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,s=Object.create(i.prototype),o=new C(n||[]);return a(s,"_invoke",{value:m(e,r,o)}),s}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var f={};function p(){}function d(){}function v(){}var y={};c(y,s,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(z([])));_&&_!==t&&r.call(_,s)&&(y=_);var b=v.prototype=p.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(a,s,o,u){var c=h(e[a],e,s);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(c.arg)}var s;a(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return s=s?s.then(n,n):n()}})}function m(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return j()}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var o=B(s,r);if(o){if(o===f)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function B(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,B(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=h(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function z(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=v,a(b,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:d,configurable:!0}),d.displayName=c(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(k.prototype),c(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var s=new k(l(t,r,n,a),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(b),c(b,u,"Generator"),c(b,s,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=z,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var o=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(o&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:z(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function B(e,t,r,n,a,i,s){try{var o=e[i](s),u=o.value}catch(c){return void r(c)}o.done?t(u):Promise.resolve(u).then(n,a)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){B(i,n,a,s,o,"next",e)}function o(e){B(i,n,a,s,o,"throw",e)}s(void 0)}))}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t,r){E(e,t),t.set(e,r)}function E(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,M(e,t,"get"))}function D(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,M(e,t,"set"),r),r}function M(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}System.register([],(function(t,i){"use strict";return{execute:function(){var i={COMMON_ERR:1,NO_CMD:1001,PARAM_ERROR:1002,DATABASE_ERROR:1003,NO_AUTH:2e3,AUTH_FAILED:2001,USERNAME_ERROR:2002,AUTH_LIMIT:2003,NO_GAME_TYPE:3e3,GAME_IN_ROOM:3001,ACHV_UNLOCKED:4e3},o=new WeakMap,u=new WeakMap,l=function(){function e(t,r){S(this,e),j(this,o,{writable:!0,value:void 0}),j(this,u,{writable:!0,value:void 0}),D(this,o,t),D(this,u,r||{})}var t;return z(e,[{key:"$core",get:function(){return O(this,o)}},{key:"$configure",get:function(){return O(this,u)}},{key:"$sheet",get:function(){return O(this,o).sheet}},{key:"$db",get:function(){return O(this,o).database}},{key:"$user",get:function(){return O(this,o).user}},{key:"$game",get:function(){return O(this,o).game}},{key:"$rank",get:function(){return O(this,o).rank}},{key:"$question",get:function(){return O(this,o).question}},{key:"$session",get:function(){return O(this,o).session}},{key:"$achiv",get:function(){return O(this,o).achievement}},{key:"$asset",get:function(){return O(this,o).asset}},{key:"$shop",get:function(){return O(this,o).shop}},{key:"$err",get:function(){return O(this,o).err}},{key:"initialize",value:(t=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"proxy",value:function(){return null}},{key:"$i",value:function(e){}}]),e}(),p=new WeakMap,d=new WeakMap,y=new WeakSet,_=function(e){v(n,e);var t,r=w(n);function n(){var e;S(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return k(b(e=r.call.apply(r,[this].concat(a))),y),j(b(e),p,{writable:!0,value:new Map}),j(b(e),d,{writable:!0,value:!1}),e}return z(n,[{key:"initialize",value:(t=A(x().mark((function e(){var t,r,n,a,i,s,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.$configure,r=t.load,n=t.freeze,a=t.sheets,D(this,d,!!n),i=f(a),e.prev=3,i.s();case 5:if((s=i.n()).done){e.next=17;break}return o=s.value,e.next=9,r(o);case 9:if(u=e.sent){e.next=12;break}throw new Error("sheet [".concat(o,"] load failed!!"));case 12:n&&Object.freeze(u),console.debug("sheet [".concat(o,"] loaded.")),O(this,p).set(o,u);case 15:e.next=5;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),i.e(e.t0);case 22:return e.prev=22,i.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[3,19,22,25]])}))),function(){return t.apply(this,arguments)})},{key:"get",value:function(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i=(t=m(this,y,B)).call.apply(t,[this,e].concat(n));return O(this,d)?i:$utils.clone(i)}},{key:"keys",value:function(e){var t=O(this,p).get(e);return t?Object.keys(t):(console.warn("sheet [".concat(e,"] not found.")),null)}}]),n}(l);function B(e){var t=O(this,p).get(e);if(!t)return console.warn("sheet [".concat(e,"] not found.")),null;for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(!t)return null;t=t[o]}return t}var C=new WeakMap,E=function(){function e(t){S(this,e),j(this,C,{writable:!0,value:void 0}),D(this,C,t)}var t,r,n,a,i,s,o,u;return z(e,[{key:"$",get:function(){return this.constructor}},{key:"initialize",value:(u=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"$store",value:(o=A(x().mark((function e(t){var r,n,a=this,i=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"readonly",n=this.$.Collection,e.abrupt("return",new Promise((function(e,i){var s,o=O(a,C).transaction(n,r),u=o.objectStore(n);new Promise((function(e,r){return t(u,e,r)})).then((function(e){return s=e})).catch(i),o.onerror=function(){return i(new Error("Transaction error"))},o.oncomplete=function(){return e(s)}})));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"$getAll",value:(s=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$store((function(e,r,n){t&&(e=e.index(t));var a=e.getAll();a.onerror=n,a.onsuccess=function(){return r(a.result)}})).catch(null));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"$get",value:(i=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$store((function(e,n,a){r&&(e=e.index(r));var i=e.get(t);i.onerror=a,i.onsuccess=function(){return n(i.result)}})).catch(null));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"$put",value:(a=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$store((function(e,r,n){var a=e.put(t);a.onerror=n,a.onsuccess=function(){return r(!0)}}),"readwrite").catch(!1));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"get",value:(n=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$get(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"set",value:(r=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.uuid){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",this.$put(t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"sync",value:(t=A(x().mark((function e(t,r){var n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.uuid=r.uid||t,t=r.uuid,delete r.uid,e.next=5,this.get(t);case 5:return n=e.sent,a=$utils.objUpdate(n,r),e.next=9,this.set(a);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),M=new WeakMap,q=function(e){v(a,e);var t,r,n=w(a);function a(){var e;S(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return j(b(e=n.call.apply(n,[this].concat(r))),M,{writable:!0,value:{}}),e}return z(a,[{key:"initialize",value:(r=A(x().mark((function e(){var t,r,n,a,i,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$getAll();case 2:t=e.sent,r=f(t);try{for(r.s();!(n=r.n()).done;)a=n.value,i=a.key,s=a.value,O(this,M)[i]=s}catch(Di){r.e(Di)}finally{r.f()}case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"get",value:function(e){return $utils.clone(O(this,M)[e])}},{key:"set",value:(t=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return t=""+t,r=$utils.clone(r),O(this,M)[t]=r,e.abrupt("return",this.$put({key:t,value:r}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(E);h(q,"Collection","kvdata"),h(q,"Scheme",{keyPath:"key"});var W=function(e){v(a,e);var t,r,n=w(a);function a(){return S(this,a),n.apply(this,arguments)}return z(a,[{key:"get",value:(r=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$get(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(t=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$put({username:t,uuid:r}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(E);h(W,"Collection","auth"),h(W,"Scheme",{keyPath:"username"});var $=function(e){v(n,e);var t,r=w(n);function n(){return S(this,n),r.apply(this,arguments)}return z(n,[{key:"sync",value:(t=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.$update=Date.now(),e.abrupt("return",c(g(n.prototype),"sync",this).call(this,t,r).then((function(e){return e.meta})));case 2:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),n}(E);h($,"Collection","user"),h($,"Scheme",{keyPath:"uuid"});var P=function(e){v(r,e);var t=w(r);function r(){return S(this,r),t.apply(this,arguments)}return z(r)}(E);h(P,"Collection","rank"),h(P,"Scheme",{keyPath:"uuid"});var T=function(e){v(n,e);var t,r=w(n);function n(){return S(this,n),r.apply(this,arguments)}return z(n,[{key:"set",value:(t=A(x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return",!1);case 2:return r=this.$put(t),$emit("$settlement",$utils.clone(t)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(E);h(T,"Collection","settlement"),h(T,"Scheme",{keyPath:"id"});var R=function(e){v(i,e);var t,r,n,a=w(i);function i(){return S(this,i),a.apply(this,arguments)}return z(i,[{key:"gets",value:(n=A(x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,e.abrupt("return",(null==r?void 0:r.assets)||{});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"check",value:(r=A(x().mark((function e(t,r){var n,a,i,s,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:if(null!=(n=e.sent)&&n.assets){e.next=5;break}return e.abrupt("return",!1);case 5:a=$utils.flat(n.assets,2),i=$utils.flat(r,2),e.t0=x().keys(i);case 8:if((e.t1=e.t0()).done){e.next=17;break}if(s=e.t1.value,o=Number(a[s])||0,u=Number(i[s])||0,!(o>=u)){e.next=14;break}return e.abrupt("continue",8);case 14:return e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"sync",value:(t=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(g(i.prototype),"sync",this).call(this,t,r).then((function(e){return e.assets})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),i}(E);h(R,"Collection","asset"),h(R,"Scheme",{keyPath:"uuid"});var H=function(e){v(i,e);var t,r,n,a=w(i);function i(){return S(this,i),a.apply(this,arguments)}return z(i,[{key:"gets",value:(n=A(x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(g(i.prototype),"get",this).call(this,t);case 2:return r=e.sent,e.abrupt("return",(null==r?void 0:r.records)||{});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"get",value:(r=A(x().mark((function e(t,r){var n,a,s,o,u,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,c(g(i.prototype),"get",this).call(this,t);case 4:if(null!=(n=e.sent)&&n.records){e.next=7;break}return e.abrupt("return",null);case 7:a=r.split("."),s=n.records,o=f(a),e.prev=10,o.s();case 12:if((u=o.n()).done){e.next=19;break}if(l=u.value,null!=(s=s[l])){e.next=17;break}return e.abrupt("return",null);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(10),o.e(e.t0);case 24:return e.prev=24,o.f(),e.finish(24);case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this,[[10,21,24,27]])}))),function(e,t){return r.apply(this,arguments)})},{key:"sync",value:(t=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(g(i.prototype),"sync",this).call(this,t,r).then((function(e){return e.records})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),i}(E);h(H,"Collection","record"),h(H,"Scheme",{keyPath:"uuid"});var F=function(e){v(a,e);var t,r,n=w(a);function a(){return S(this,a),n.apply(this,arguments)}return z(a,[{key:"gets",value:(r=A(x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,e.abrupt("return",(null==r?void 0:r.achvs)||{});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"istriggered",value:(t=A(x().mark((function e(t,r){var n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this.get(t))||void 0===n?void 0:n.achvs;case 2:return a=e.sent,e.abrupt("return",!(null==a||!a[r]));case 4:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(E);h(F,"Collection","achievement"),h(F,"Scheme",{keyPath:"uuid"});var U=function(e){v(a,e);var t,r,n=w(a);function a(){return S(this,a),n.apply(this,arguments)}return z(a,[{key:"gets",value:(r=A(x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:return r=e.sent,e.abrupt("return",(null==r?void 0:r.history)||new Map);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"puts",value:(t=A(x().mark((function e(t,r){var n,a,i,o,u,c,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={uuid:t,history:new Map};case 5:n=e.t0,a=n.history,i=f(r);try{for(i.s();!(o=i.n()).done;)u=s(o.value,2),c=u[0],l=u[1],a.set(c,l)}catch(Di){i.e(Di)}finally{i.f()}return e.abrupt("return",this.$put(n));case 10:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),a}(E);h(U,"Collection","history"),h(U,"Scheme",{keyPath:"uuid"});var L=new WeakMap,I=new WeakMap,Z=new WeakMap,N=new WeakMap,G=new WeakMap,K=new WeakMap,X=new WeakMap,J=new WeakMap,Y=new WeakMap,V=new WeakMap,Q=new WeakSet,ee=new WeakSet,te=function(e){v(i,e);var t,r,n,a=w(i);function i(){var e;S(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(b(e=a.call.apply(a,[this].concat(r))),ee),k(b(e),Q),j(b(e),L,{writable:!0,value:void 0}),j(b(e),I,{writable:!0,value:void 0}),j(b(e),Z,{writable:!0,value:void 0}),j(b(e),N,{writable:!0,value:void 0}),j(b(e),G,{writable:!0,value:void 0}),j(b(e),K,{writable:!0,value:void 0}),j(b(e),X,{writable:!0,value:void 0}),j(b(e),J,{writable:!0,value:void 0}),j(b(e),Y,{writable:!0,value:void 0}),j(b(e),V,{writable:!0,value:void 0}),e}return z(i,[{key:"auth",get:function(){return O(this,L)}},{key:"user",get:function(){return O(this,I)}},{key:"kv",get:function(){return O(this,Z)}},{key:"rank",get:function(){return O(this,N)}},{key:"settlement",get:function(){return O(this,G)}},{key:"asset",get:function(){return O(this,K)}},{key:"record",get:function(){return O(this,X)}},{key:"achievement",get:function(){return O(this,J)}},{key:"history",get:function(){return O(this,Y)}},{key:"initialize",value:(n=A(x().mark((function e(){var t,r,n,a,i,o,u,c=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.$configure,r=t.dbName,n=t.version,globalThis.indexedDB){e.next=3;break}throw new Error("IndexedDB not supported yet.");case 3:return e.next=5,new Promise((function(e,t){var a=globalThis.indexedDB.open(r,n);a.onerror=function(e){return t(e.target.error)},a.onsuccess=function(t){return e(t.target.result)},a.onupgradeneeded=function(e){return m(c,Q,re).call(c,e.target.result)}}));case 5:return a=e.sent,D(this,Z,new q(a)),D(this,L,new W(a)),D(this,I,new $(a)),D(this,N,new P(a)),D(this,G,new T(a)),D(this,K,new R(a)),D(this,X,new H(a)),D(this,J,new F(a)),D(this,Y,new U(a)),e.next=17,O(this,Z).initialize();case 17:return e.next=19,O(this,L).initialize();case 19:return e.next=21,O(this,I).initialize();case 21:return e.next=23,O(this,N).initialize();case 23:return e.next=25,O(this,G).initialize();case 25:return e.next=27,O(this,K).initialize();case 27:return e.next=29,O(this,X).initialize();case 29:return e.next=31,O(this,J).initialize();case 31:return e.next=33,O(this,Y).initialize();case 33:if($on("user.authenticated",(function(e){var t=s(e,1)[0],r=function(e){return function(t){return $emit("$".concat(e),t)}};O(c,K).get(t).then(r("asset")),O(c,X).gets(t).then(r("record"))})),i=globalThis.localStorage.getItem("storage")){e.next=37;break}return e.abrupt("return");case 37:globalThis.localStorage.removeItem("storage"),o=JSON.parse(i),e.t0=x().keys(o);case 40:if((e.t1=e.t0()).done){e.next=46;break}return u=e.t1.value,e.next=44,O(this,Z).set(u,o[u]);case 44:e.next=40;break;case 46:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"get",value:function(e){switch(e){case"auth":return O(this,L);case"user":return O(this,I);case"rank":return O(this,N);case"settlement":return O(this,G);case"asset":return O(this,K);case"record":return O(this,X);case"kv":return O(this,Z);case"achievement":return O(this,J);case"history":return O(this,Y);default:return null}}},{key:"sync",value:(r=A(x().mark((function e(t,r){var n,a,i,s=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a=function(e){var a,i=r[e],o=r[e+1],u=null===(a=s.get(i))||void 0===a?void 0:a.sync(t,o).then((function(e){$emit("$".concat(i),e)}));n.push(u)},i=0;i<r.length;i+=2)a(i);return e.abrupt("return",Promise.all(n));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"gsync",value:(t=A(x().mark((function e(t){var r,n,a,i,s,o,u,c,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.get(t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:n=r.uuid,a={},i=f(O(this,V)),e.prev=8,i.s();case 10:if((s=i.n()).done){e.next=27;break}return c=s.value,e.next=14,null===(u=this.get(c))||void 0===u?void 0:u.$get(n);case 14:if(e.t1=o=e.sent,e.t0=null===e.t1,e.t0){e.next=18;break}e.t0=void 0===o;case 18:if(!e.t0){e.next=22;break}e.t2=void 0,e.next=23;break;case 22:e.t2=o.updated;case 23:(l=e.t2)&&(a[c]=new Date(l));case 25:e.next=10;break;case 27:e.next=32;break;case 29:e.prev=29,e.t3=e.catch(8),i.e(e.t3);case 32:return e.prev=32,i.f(),e.finish(32);case 35:return e.abrupt("return",{uid:n,sync:a});case 36:case"end":return e.stop()}}),e,this,[[8,29,32,35]])}))),function(e){return t.apply(this,arguments)})},{key:"$i",value:function(e){D(this,V,e.gsync)}}]),i}(l);function re(e){m(this,ee,ne).call(this,e,q.Collection,q.Scheme),m(this,ee,ne).call(this,e,W.Collection,W.Scheme),m(this,ee,ne).call(this,e,$.Collection,$.Scheme),m(this,ee,ne).call(this,e,P.Collection,P.Scheme),m(this,ee,ne).call(this,e,T.Collection,T.Scheme),m(this,ee,ne).call(this,e,R.Collection,R.Scheme),m(this,ee,ne).call(this,e,H.Collection,H.Scheme),m(this,ee,ne).call(this,e,F.Collection,F.Scheme),m(this,ee,ne).call(this,e,U.Collection,U.Scheme)}function ne(e,t,r){var n=r.keyPath,a=r.indexs;if(!e.objectStoreNames.contains(t)){var i=e.createObjectStore(t,{keyPath:n});for(var s in a)i.createIndex(s,s,a[s])}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===t)return e[Math.floor(Math.random()*e.length)];var n=new Set(e);if(t>=(e=a(n)).length)return e;for(var i=new Set;i.size<t;){var s=e[Math.floor(Math.random()*e.length)];i.add(s),r&&n.delete(s)}return r?[a(i),a(n)]:a(i)}function ie(e,t){var r=function(e,t){switch("".concat(e).concat(t)){case"02":case"25":case"50":return 1;case"20":case"52":case"05":return-1;default:return 0}};"number"==typeof e&&(e=[e]),"number"==typeof t&&(t=[t]);for(var n=0,a=e.length;a--;)n+=r(e[a],t[a]);return n}function se(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.length-1,i=function e(r,i,s){i!==n?t[i].forEach((function(t){e([].concat(a(r),[t]),i+1,s)})):t[i].forEach((function(e){return s.apply(void 0,a(r).concat([e]))}))};return function(e){e&&0!==t.length&&i([],0,e)}}function oe(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return!(e<t||e>r||!n&&e==t||!a&&e==r)}var ue={A:{type:"usually",score:1,val:"谨慎（+1分）"},B:{type:"usually",score:20,val:"公正（选这项的人平分20分）"},C:{type:"usually",score:2,val:"团结（如果这项人数最多，+2分）"},D:{type:"usually",score:4,val:"智慧（如果这项人数最少，+4分）"},E:{type:"usually",score:8,val:"勇气（如果只有你一人选，+8分）"},F:{type:"special",score:[-2,-1,0,1,2],val:"信仰（随机-2、-1、0、+1、+2分）",rate:500},G:{type:"special",score:{type:"buff",times:1,value:2},val:"节制（下一题你的分数翻倍）",rate:500},H:{type:"special",score:2,val:"友谊（如果至少2个选项人数相同，+2分）",rate:500},I:{type:"special",score:4,val:"爱情（如果这项与另一项人数相同，+4分）",rate:500},J:{type:"special",score:{type:"buff",times:1/0,value:-1},val:"反思（本次比赛中，你的加分改为扣分，扣分改为加分）",rate:500}},ce=Object.freeze(Object.defineProperty({__proto__:null,question:"第一关：\n请任意选择一项。",options:ue,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={A:ue.A.score,F:function(){return ae(ue.F.score)},G:ue.G.score,J:ue.J.score},n=t.count("B");return n&&(r.B=ue.B.score/n),t.most("C")&&(r.C=ue.C.score),t.least("D")&&(r.D=ue.D.score),1===t.count("E")&&(r.E=ue.E.score),t.maxsame()>=2&&(r.H=ue.H.score),t.same("I")>=2&&(r.I=ue.I.score),r}},Symbol.toStringTag,{value:"Module"})),le={A:{type:"usually",score:1,val:"谨慎（+1分）"},B:{type:"usually",score:3,val:"公正（选这项的人平分3分）"},C:{type:"usually",score:2,val:"团结（如果这项人数最多，+2分）"},D:{type:"usually",score:2,val:"智慧（如果这项人数最少，+2分）"},E:{type:"usually",score:4,val:"勇气（如果只有你一人选，+4分）"},F:{type:"special",score:[-2,-1,0,1,2],val:"信仰（随机-2、-1、0、+1、+2分）",rate:500},G:{type:"special",score:{type:"buff",times:1,value:2},val:"节制（下一题你的分数翻倍）",rate:500},H:{type:"special",score:{type:"buff",times:1/0,value:-1},val:"反思（本次比赛中，你的加分改为扣分，扣分改为加分）",rate:500}},he=Object.freeze(Object.defineProperty({__proto__:null,question:"第一关：\n请任意选择一项。",options:le,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={A:le.A.score,F:function(){return ae(le.F.score)},G:le.G.score,H:le.H.score},n=t.count("B");return n&&(r.B=le.B.score/n),t.most("C")&&(r.C=le.C.score),t.least("D")&&(r.D=le.D.score),1===t.count("E")&&(r.E=le.E.score),r}},Symbol.toStringTag,{value:"Module"})),fe={A:{type:"usually",val:"A"},B:{type:"usually",more:-1,less:2,val:"B"}},pe=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n如果选A的人多，所有选B的人+2分。\n如果选B的人多，所有选B的人-1分。",options:fe,least:-1,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A"),n=t.count("B");return n>r?{B:fe.B.more}:n<r?{B:fe.B.less}:{}}},Symbol.toStringTag,{value:"Module"})),de={A:{type:"usually",score:50,val:"50分"},B:{type:"usually",score:40,val:"40分"},C:{type:"usually",score:30,val:"30分"},D:{type:"usually",score:20,val:"20分"},E:{type:"usually",score:10,val:"10分"},F:{type:"special",score:5,val:"5分",rate:500}},ve=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n请选择一项，和选了它的人平分积分。",options:de,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=t.count(e);r&&(n[e]=de[e].score/r)})),n}},Symbol.toStringTag,{value:"Module"})),ye={A:{type:"usually",score:2,val:"A（+2分）"},B:{type:"usually",score:-2,val:"B（-2分）"},C:{type:"usually",score:0,val:"C（0分）"},D:{type:"special",score:1,val:"D（+1分）",rate:500}},we=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n请选择一项，如果选A的人最多，则A、B两项分数互换。",options:ye,least:-2,timeout:3e4,judge:function(e){return e.answer.most("A")?{A:ye.B.score,B:ye.A.score,C:ye.C.score,D:ye.D.score}:{A:ye.A.score,B:ye.B.score,C:ye.C.score,D:ye.D.score}}},Symbol.toStringTag,{value:"Module"})),_e=2,be=-1,ge={A:{type:"usually",extra:15,multiple:1,reward:1,val:"异虫（+15人）"},B:{type:"usually",extra:0,multiple:1.5,reward:1,val:"星灵（每个人相当于1.5个人）"},C:{type:"usually",extra:0,multiple:1,reward:2,val:"人类（得失翻倍）"}},ke=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n三族混战，数量最多的+2分，最少的-1分。\n你会加入哪一方？",options:ge,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=(t.count("A")+ge.A.extra)*ge.A.multiple,n=(t.count("B")+ge.B.extra)*ge.B.multiple,a=(t.count("C")+ge.C.extra)*ge.C.multiple,i=[r,n,a].sort((function(e,t){return t-e})),s=function(e){switch(e){case i[2]:return be;case i[0]:return _e;default:return 0}};return{A:s(r)*ge.A.reward,B:s(n)*ge.B.reward,C:s(a)*ge.C.reward}}},Symbol.toStringTag,{value:"Module"})),me=-2,xe=2,Be={A:{type:"usually",extra:0,reward:1,val:"A"},B:{type:"usually",extra:.5,reward:1,val:"B（额外+0.5分）"},C:{type:"usually",extra:-.5,reward:1,val:"C（额外-0.5分）"},D:{type:"usually",extra:0,reward:2,val:"D（得失翻倍）"},E:{type:"special",extra:1,reward:1,val:"E（额外+1分）",rate:500},F:{type:"special",extra:0,reward:1,val:"F（没什么特别的，只是比A稀有）",rate:500}},Ae=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n人数最多的选项-2分，\n人数最少的选项+2分。",options:Be,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n=t.crank(),i=n.shift(),s=n.pop(),o={};a(r).forEach((function(e){o[e]=Be[e].extra}));var u=function(e){return function(t){var r=Be[t],n=r.extra,a=r.reward;o[t]=e*a+n}};return i?(i.forEach(u(me)),s?(s.forEach(u(xe)),o):o):o}},Symbol.toStringTag,{value:"Module"})),Se=-1,Ce=1,ze=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n人数最多的选项-1分，\n人数最少的选项+1分",options:{A:{type:"usually",val:"A"},B:{type:"usually",val:"B"},C:{type:"usually",val:"C"},D:{type:"usually",val:"D"},E:{type:"special",val:"E",rate:500}},least:-1,timeout:3e4,judge:function(e){var t=e.answer.crank(),r=t.shift(),n=t.pop();if(!r)return{};var a={},i=function(e){return function(t){return a[t]=e}};return r.forEach(i(Se)),n?(n.forEach(i(Ce)),a):a}},Symbol.toStringTag,{value:"Module"})),je=2,Ee=-2,Oe={A:{type:"usually",finger:0,val:"石头"},B:{type:"usually",finger:2,val:"剪刀"},C:{type:"usually",finger:5,val:"布"},D:{type:"usually",finger:0,val:"石头"},E:{type:"special",finger:2,val:"剪刀",rate:500},F:{type:"special",finger:5,val:"布",rate:500}},De=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n石头剪刀布，人数最多和最少的两项PK，\n赢的+2分，输的-2分。",options:Oe,least:-2,timeout:3e4,judge:function(e){var t=e.answer.crank(),r=t[0],n=t.at(-1);if(!r)return{};var a={},i=function(e,t){a[e]||(a[e]=0),a[e]+=t};return se(r,n)((function(e,t){var r=ie(Oe[e].finger,Oe[t].finger);i(e,r*je),i(t,r*Ee)})),a}},Symbol.toStringTag,{value:"Module"})),Me=-1,qe={A:{type:"usually",score:0,val:"0分"},B:{type:"usually",score:1,val:"+1分"},C:{type:"usually",score:2,val:"+2分"},D:{type:"special",score:3,val:"+3分",rate:500}},We=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n请选择一项，但人数最多的一项改为-1分。",options:qe,least:-1,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={},i=new Set(t.crank()[0]);return a(r).forEach((function(e){i.has(e)?n[e]=Me:n[e]=qe[e].score})),n}},Symbol.toStringTag,{value:"Module"})),$e={A:{type:"usually",val:"A"},B:{type:"usually",more:-1,less:2,val:"B"}},Pe=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n如果选A的人多，所有选B的人+2分。\n如果选B的人多，所有选B的人-1分。",options:$e,least:-1,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A"),n=t.count("B");return n>r?{B:$e.B.more}:n<r?{B:$e.B.less}:{}}},Symbol.toStringTag,{value:"Module"})),Te={A:{type:"usually",score:5,val:"5分"},B:{type:"usually",score:4,val:"4分"},C:{type:"usually",score:3,val:"3分"},D:{type:"usually",score:2,val:"2分"},E:{type:"usually",score:1,val:"1分"}},Re=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n请选择一项，和选了它的人平分积分。",options:Te,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=t.count(e);r&&(n[e]=Te[e].score/r)})),n}},Symbol.toStringTag,{value:"Module"})),He={A:{type:"usually",score:2,val:"A（+2分）"},B:{type:"usually",score:-2,val:"B（-2分）"},C:{type:"usually",score:0,val:"C（0分）"},D:{type:"special",score:1,val:"D（+1分）",rate:500}},Fe=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n请选择一项，如果选A的人最多，则A、B两项分数互换。",options:He,least:-2,timeout:3e4,judge:function(e){return e.answer.most("A")?{A:He.B.score,B:He.A.score,C:He.C.score,D:He.D.score}:{A:He.A.score,B:He.B.score,C:He.C.score,D:He.D.score}}},Symbol.toStringTag,{value:"Module"})),Ue=2,Le=-1,Ie={A:{type:"usually",extra:2,multiple:1,reward:1,val:"异虫（+2人）"},B:{type:"usually",extra:0,multiple:1.5,reward:1,val:"星灵（每个人相当于1.5个人）"},C:{type:"usually",extra:0,multiple:1,reward:2,val:"人类（得失翻倍）"}},Ze=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n三族混战，数量最多的+2分，最少的-1分。\n你会加入哪一方？",options:Ie,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=(t.count("A")+Ie.A.extra)*Ie.A.multiple,n=(t.count("B")+Ie.B.extra)*Ie.B.multiple,a=(t.count("C")+Ie.C.extra)*Ie.C.multiple,i=[r,n,a].sort((function(e,t){return t-e})),s=function(e){switch(e){case i[2]:return Le;case i[0]:return Ue;default:return 0}};return{A:s(r)*Ie.A.reward,B:s(n)*Ie.B.reward,C:s(a)*Ie.C.reward}}},Symbol.toStringTag,{value:"Module"})),Ne=-2,Ge=2,Ke={A:{type:"usually",extra:0,reward:1,val:"A"},B:{type:"usually",extra:.5,reward:1,val:"B（额外+0.5分）"},C:{type:"usually",extra:-.5,reward:1,val:"C（额外-0.5分）"},D:{type:"usually",extra:0,reward:2,val:"D（得失翻倍）"},E:{type:"special",extra:1,reward:1,val:"E（额外+1分）",rate:500},F:{type:"special",extra:0,reward:1,val:"F（没什么特别的，只是比A稀有）",rate:500}},Xe=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n人数最多的选项-2分，\n人数最少的选项+2分。",options:Ke,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n=t.crank(),i=n.shift(),s=n.pop(),o={};a(r).forEach((function(e){o[e]=Ke[e].extra}));var u=function(e){return function(t){var r=Ke[t],n=r.extra,a=r.reward;o[t]=e*a+n}};return i?(i.forEach(u(Ne)),s?(s.forEach(u(Ge)),o):o):o}},Symbol.toStringTag,{value:"Module"})),Je=-1,Ye=1,Ve=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n人数最多的选项-1分，\n人数最少的选项+1分",options:{A:{type:"usually",val:"A"},B:{type:"usually",val:"B"},C:{type:"usually",val:"C"},D:{type:"special",val:"D",rate:500}},least:-1,timeout:3e4,judge:function(e){var t=e.answer.crank(),r=t.shift(),n=t.pop();if(!r)return{};var a={},i=function(e){return function(t){return a[t]=e}};return r.forEach(i(Je)),n?(n.forEach(i(Ye)),a):a}},Symbol.toStringTag,{value:"Module"})),Qe=2,et=-2,tt={A:{type:"usually",finger:0,val:"石头"},B:{type:"usually",finger:2,val:"剪刀"},C:{type:"usually",finger:5,val:"布"},D:{type:"usually",finger:0,val:"石头"}},rt=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n石头剪刀布，人数最多和最少的两项PK，\n赢的+2分，输的-2分。",options:tt,least:-2,timeout:3e4,judge:function(e){var t=e.answer.crank(),r=t[0],n=t.at(-1);if(!r)return{};var a={},i=function(e,t){a[e]||(a[e]=0),a[e]+=t};return se(r,n)((function(e,t){var r=ie(tt[e].finger,tt[t].finger);i(e,r*Qe),i(t,r*et)})),a}},Symbol.toStringTag,{value:"Module"})),nt=-1,at={A:{type:"usually",score:0,val:"0分"},B:{type:"usually",score:1,val:"+1分"},C:{type:"usually",score:2,val:"+2分"},D:{type:"special",score:3,val:"+3分",rate:500}},it=Object.freeze(Object.defineProperty({__proto__:null,question:"第二关：\n请选择一项，但人数最多的一项改为-1分。",options:at,least:-1,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={},i=new Set(t.crank()[0]);return a(r).forEach((function(e){i.has(e)?n[e]=nt:n[e]=at[e].score})),n}},Symbol.toStringTag,{value:"Module"})),st={A:{type:"usually",trust:1,betray:1,val:"不信任（+1分）"},B:{type:"usually",trust:3,betray:-3,val:"信任（+3分，如果至少3人选了背叛，改为-3分）"},C:{type:"usually",trust:-3,betray:-3,val:"背叛（-3分）"}},ot=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会信任其他人吗？",options:st,least:-3,timeout:3e4,judge:function(e){return e.answer.count("C")>=3?{A:st.A.betray,B:st.B.betray,C:st.C.betray}:{A:st.A.trust,B:st.B.trust,C:st.C.trust}}},Symbol.toStringTag,{value:"Module"})),ut={A:{type:"usually",success:1,val:"A（+1分）"},B:{type:"usually",success:3,faild:-3,target:{C:30},val:"B（-3分，如果至少30人选了C，改为+3分）"},C:{type:"usually",success:3,faild:-3,target:{B:30},val:"C（-3分，如果至少30人选了B，改为+3分）"},D:{type:"special",success:2,faild:0,target:{B:30,C:30},val:"D（如果B和C都有至少30人，+2分）",rate:500}},ct=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会和其他人合作吗？",options:ut,least:-3,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=ut[e],a=r.success,i=r.faild,s=r.target;if(s){for(var o in s)if(t.count(o)<s[o])return void(n[e]=i);n[e]=a}else n[e]=a})),n}},Symbol.toStringTag,{value:"Module"})),lt={A:{type:"usually",success:1,val:"A（+1分）"},B:{type:"usually",success:3,faild:-3,target:{C:20},val:"B（-3分，如果至少20人选了C，改为+3分）"},C:{type:"usually",success:3,faild:-3,target:{D:20},val:"C（-3分，如果至少20人选了D，改为+3分）"},D:{type:"usually",success:3,faild:-3,target:{B:20},val:"D（-3分，如果至少20人选了B，改为+3分）"}},ht=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会和其他人合作吗？",options:lt,least:-3,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=lt[e],a=r.success,i=r.faild,s=r.target;if(s){for(var o in s)if(t.count(o)<s[o])return void(n[e]=i);n[e]=a}else n[e]=a})),n}},Symbol.toStringTag,{value:"Module"})),ft={A:{type:"usually",success:0,faild:2,target:{B:10},val:"和平协议（+2分）"},B:{type:"usually",success:0,val:"发射导弹（0分，如果至少10人选这项，则和平协议失效）"}},pt=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会签署和平协议还是发射导弹？",options:ft,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=ft[e],a=r.success,i=r.faild,s=r.target;if(s){for(var o in s)if(t.count(o)<s[o])return void(n[e]=i);n[e]=a}else n[e]=a})),n}},Symbol.toStringTag,{value:"Module"})),dt=2,vt=-2,yt={A:{type:"usually",finger:[0,2],val:"石头，剪刀"},B:{type:"usually",finger:[5,0],val:"布，石头"},C:{type:"usually",finger:[2,5],val:"剪刀，布"},D:{type:"usually",finger:[0,0],val:"石头，石头"}},wt=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n石头剪刀布，连续玩两次。人数最多和最少的两项PK，\n每赢一次+2分，每输一次-2分。",options:yt,least:-4,timeout:3e4,judge:function(e){var t=e.answer.crank(),r=t[0],n=t.at(-1);if(!r)return{};var a={},i=function(e,t){a[e]||(a[e]=0),a[e]+=t};return se(r,n)((function(e,t){var r=ie(yt[e].finger,yt[t].finger);i(e,r*dt),i(t,r*vt)})),a}},Symbol.toStringTag,{value:"Module"})),_t={A:{type:"usually",extra:0,total:150,val:"A队（如果赢了，队员平分150分"},B:{type:"usually",extra:10,total:100,val:"B队（人数+10，如果赢了，队员平分100分"}},bt=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\nA队和B队拔河，人多的一方赢。\n你会加入哪一队？",options:_t,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A")+_t.A.extra,n=t.count("B")+_t.B.extra,a=r-n;return 0==a?{}:a>0?{A:_t.A.total/r}:{B:_t.B.total/n}}},Symbol.toStringTag,{value:"Module"})),gt={A:{type:"usually",trust:1,betray:1,val:"不信任（+1分）"},B:{type:"usually",trust:3,betray:-3,val:"信任（+3分，如果有人选了背叛，改为-3分）"},C:{type:"usually",trust:-3,betray:-3,val:"背叛（-3分）"}},kt=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会信任其他人吗？",options:gt,least:-3,timeout:3e4,judge:function(e){return e.answer.count("C")>=1?{A:gt.A.betray,B:gt.B.betray,C:gt.C.betray}:{A:gt.A.trust,B:gt.B.trust,C:gt.C.trust}}},Symbol.toStringTag,{value:"Module"})),mt={A:{type:"usually",success:1,val:"A（+1分）"},B:{type:"usually",success:3,faild:-3,target:{C:3},val:"B（-3分，如果至少3人选了C，改为+3分）"},C:{type:"usually",success:3,faild:-3,target:{B:3},val:"C（-3分，如果至少3人选了B，改为+3分）"},D:{type:"special",success:2,faild:0,target:{B:3,C:3},val:"D（如果B和C都有至少3人，+2分）",rate:500}},xt=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会和其他人合作吗？",options:mt,least:-3,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=mt[e],a=r.success,i=r.faild,s=r.target;if(s){for(var o in s)if(t.count(o)<s[o])return void(n[e]=i);n[e]=a}else n[e]=a})),n}},Symbol.toStringTag,{value:"Module"})),Bt={A:{type:"usually",success:1,val:"A（+1分）"},B:{type:"usually",success:3,faild:-3,target:{C:2},val:"B（-3分，如果至少2人选了C，改为+3分）"},C:{type:"usually",success:3,faild:-3,target:{D:2},val:"C（-3分，如果至少2人选了D，改为+3分）"},D:{type:"usually",success:3,faild:-3,target:{B:2},val:"D（-3分，如果至少2人选了B，改为+3分）"}},At=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会和其他人合作吗？",options:Bt,least:-3,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=Bt[e],a=r.success,i=r.faild,s=r.target;if(s){for(var o in s)if(t.count(o)<s[o])return void(n[e]=i);n[e]=a}else n[e]=a})),n}},Symbol.toStringTag,{value:"Module"})),St={A:{type:"usually",success:0,faild:2,target:{B:2},val:"和平协议（+2分）"},B:{type:"usually",success:0,val:"发射导弹（0分，如果至少2人选这项，则和平协议失效）"}},Ct=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n你会签署和平协议还是发射导弹？",options:St,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=St[e],a=r.success,i=r.faild,s=r.target;if(s){for(var o in s)if(t.count(o)<s[o])return void(n[e]=i);n[e]=a}else n[e]=a})),n}},Symbol.toStringTag,{value:"Module"})),zt=2,jt=-2,Et={A:{type:"usually",finger:[0,2],val:"石头，剪刀"},B:{type:"usually",finger:[5,0],val:"布，石头"},C:{type:"usually",finger:[2,5],val:"剪刀，布"},D:{type:"usually",finger:[0,0],val:"石头，石头"}},Ot=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\n石头剪刀布，连续玩两次。人数最多和最少的两项PK，\n每赢一次+2分，每输一次-2分。",options:Et,least:-4,timeout:3e4,judge:function(e){var t=e.answer.crank(),r=t[0],n=t.at(-1);if(!r)return{};var a={},i=function(e,t){a[e]||(a[e]=0),a[e]+=t};return se(r,n)((function(e,t){var r=ie(Et[e].finger,Et[t].finger);i(e,r*zt),i(t,r*jt)})),a}},Symbol.toStringTag,{value:"Module"})),Dt={A:{type:"usually",extra:0,total:15,val:"A队（如果赢了，队员平分15分"},B:{type:"usually",extra:1,total:10,val:"B队（人数+1，如果赢了，队员平分10分"}},Mt=Object.freeze(Object.defineProperty({__proto__:null,question:"第三关：\nA队和B队拔河，人多的一方赢。\n你会加入哪一队？",options:Dt,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A")+Dt.A.extra,n=t.count("B")+Dt.B.extra,a=r-n;return 0==a?{}:a>0?{A:Dt.A.total/r}:{B:Dt.B.total/n}}},Symbol.toStringTag,{value:"Module"})),qt=2/3,Wt={A:{type:"usually",val:"10",number:10},B:{type:"usually",val:"9",number:9},C:{type:"usually",val:"8",number:8},D:{type:"usually",val:"7",number:7},E:{type:"usually",val:"6",number:6},F:{type:"usually",val:"5",number:5},G:{type:"usually",val:"4",number:4},H:{type:"usually",val:"3",number:3},I:{type:"usually",val:"2",number:2},J:{type:"usually",val:"1",number:1}},$t=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n从1-10中选一个数，离平均数的三分之二最近的人获胜，获得等于所选数的积分。",options:Wt,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=0,n=0,a=[];for(var i in Wt){var s=t.count(i),o=Wt[i].number;r+=s*o,n+=s,s&&(a[o]=i)}if(!r)return{};for(var u=r/n*qt,c=Math.round(u),l=c-u==.5?1:0,f=c>u?-1:1,p=0;;){var d,v=c+p*f,y=c+p*-f-l,w=a[v],_=a[y];if((l||u===c)&&w&&_)return h(d={},w,v),h(d,_,y),d;if(w)return h({},w,v);if(_)return h({},_,y);p++}}},Symbol.toStringTag,{value:"Module"})),Pt={A:{type:"usually",win:1,val:"魏军，去A山口"},B:{type:"usually",win:1,val:"魏军，去B山口"},C:{type:"usually",win:3,val:"蜀军，去A山口"},D:{type:"usually",win:3,val:"蜀军，去B山口"}},Tt=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n有A、B两个山口，魏军只要一个山口人更多就获胜。蜀军必须在两个山口都人数更多才能获胜。\n魏军胜利+1分，蜀军胜利+3分，你会加入？",options:Pt,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A"),n=t.count("B"),a=t.count("C"),i=t.count("D");return r<a&&n<i?{C:Pt.C.win,D:Pt.D.win}:r>a||n>i?{A:Pt.A.win,B:Pt.B.win}:{}}},Symbol.toStringTag,{value:"Module"})),Rt=10,Ht=2,Ft=-2,Ut=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n坏老人摔倒了，有好心人去扶，好心人+2分。\n但是如果围观群众不到10人，好心人不但不加分，还会被敲诈-2分给坏老人平分。\n你的身份是？",options:{A:{type:"usually",val:"坏老人"},B:{type:"usually",val:"好心人"},C:{type:"usually",val:"围观群众"}},least:-2,timeout:3e4,judge:function(e){var t=e.answer;return t.count("C")>=Rt?{B:Ht}:{A:-Ft*t.count("B")/t.count("A"),B:Ft}}},Symbol.toStringTag,{value:"Module"})),Lt={A:{type:"usually",safe:2,boom:0,val:"群友（+2分，如果群被封则改为0分）"},B:{type:"usually",safe:2,boom:-2,val:"管理员（+2分，如果群被封则改为-2分）"},C:{type:"usually",safe:1,boom:1,val:"乐子人（+1分）"},D:{type:"special",safe:-2,boom:2,val:"审核（-2分，如果群被封则改为+2分）",rate:500}},It=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n有个不正经的群，如果乐子人比管理员多，就会导致群被封。你的身份是？",options:Lt,least:-2,timeout:3e4,judge:function(e){var t=e.answer;return t.count("C")>t.count("B")?{A:Lt.A.boom,B:Lt.B.boom,C:Lt.C.boom,D:Lt.D.boom}:{A:Lt.A.safe,B:Lt.B.safe,C:Lt.C.safe,D:Lt.D.safe}}},Symbol.toStringTag,{value:"Module"})),Zt=2,Nt=-1,Gt={A:{type:"usually",val:"10",number:10},B:{type:"usually",val:"20",number:20},C:{type:"usually",val:"30",number:30},D:{type:"usually",val:"40",number:40},E:{type:"special",val:"3",number:3,rate:500}},Kt=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n人数最接近选项数字的+2分，最远的-1分。",options:Gt,least:-1,timeout:3e4,judge:function(e){var t=e.answer,r=a(e.picked).map((function(e){return[e,Math.abs(t.count(e)-Gt[e].number)]})).sort((function(e,t){return s(e,2)[1]-s(t,2)[1]})),n=r.at(0)[1],i=r.at(-1)[1],o={};return r.forEach((function(e){var t=s(e,2),r=t[0],a=t[1];a!=i?a==n&&(o[r]=Zt):o[r]=Nt})),o}},Symbol.toStringTag,{value:"Module"})),Xt={A:{type:"usually",success:2,between:[1,20,!0,!0],val:"来1-20个人"},B:{type:"usually",success:2,between:[10,30,!0,!0],val:"来10-30个人"},C:{type:"usually",success:2,between:[20,40,!0,!0],val:"来20-40个人"},D:{type:"usually",success:2,between:[30,50,!0,!0],val:"来30-50个人"},E:{type:"special",success:2,between:[1,5,!0,!0],val:"来1-5个人",rate:500}},Jt=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n达成选项要求的+2分。",options:Xt,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){oe.apply(void 0,[t.count(e)].concat(a(Xt[e].between)))&&(n[e]=Xt[e].success)})),n}},Symbol.toStringTag,{value:"Module"})),Yt={A:{type:"usually",safe:[0,10,!0,!0],faild:-2,val:"车棚（上限10人）"},B:{type:"usually",safe:[0,20,!0,!0],faild:-2,val:"集装箱（上限20人）"},C:{type:"usually",safe:[0,30,!0,!0],faild:-2,val:"小诊所（上限30人）"},D:{type:"usually",safe:[0,40,!0,!0],faild:-2,val:"超市（上限40人）"},E:{type:"special",safe:[0,1,!0,!0],faild:-2,val:"卫生间（上限1人）",rate:500},F:{type:"special",safe:[0,3,!0,!0],faild:-2,val:"地下室（上限3人）",rate:500},G:{type:"special",safe:[0,5,!0,!0],faild:-2,extra:[5,5],exscore:2,val:"网吧（上限5人，如果恰好5人，额外+2分）",rate:500}},Vt=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n请选择一处聚集点，人数超过上限的会被传染，-2分。",options:Yt,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=Yt[e],i=r.safe,s=r.faild,o=r.extra,u=r.exscore;o&&oe.apply(void 0,[t.count(e)].concat(a(o)))?n[e]=u:oe.apply(void 0,[t.count(e)].concat(a(i)))||(n[e]=s)})),n}},Symbol.toStringTag,{value:"Module"})),Qt=100,er=4,tr={A:{type:"usually",invest:0,val:"不投资"},B:{type:"usually",invest:1,val:"投1分"},C:{type:"usually",invest:2,val:"投2分"},D:{type:"usually",invest:3,val:"投3分"}},rr=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n可以投资1-3分，投资会使你失去这些积分。\n如果总投资达到100分，返还所有投资人4分。",options:tr,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=a(e.picked).reduce((function(e,r){return e+t.count(r)*tr[r].invest}),0)>=Qt?er:0;return{B:r-tr.B.invest,C:r-tr.C.invest,D:r-tr.D.invest}}},Symbol.toStringTag,{value:"Module"})),nr=2/3,ar={A:{type:"usually",val:"10",number:10},B:{type:"usually",val:"9",number:9},C:{type:"usually",val:"8",number:8},D:{type:"usually",val:"7",number:7},E:{type:"usually",val:"6",number:6},F:{type:"usually",val:"5",number:5},G:{type:"usually",val:"4",number:4},H:{type:"usually",val:"3",number:3},I:{type:"usually",val:"2",number:2},J:{type:"usually",val:"1",number:1}},ir=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n从1-10中选一个数，离平均数的三分之二最近的人获胜，获得等于所选数的积分。",options:ar,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=0,n=0,a=[];for(var i in ar){var s=t.count(i),o=ar[i].number;r+=s*o,n+=s,s&&(a[o]=i)}if(!r)return{};for(var u=r/n*nr,c=Math.round(u),l=c-u==.5?1:0,f=c>u?-1:1,p=0;;){var d,v=c+p*f,y=c+p*-f-l,w=a[v],_=a[y];if((l||u===c)&&w&&_)return h(d={},w,v),h(d,_,y),d;if(w)return h({},w,v);if(_)return h({},_,y);p++}}},Symbol.toStringTag,{value:"Module"})),sr={A:{type:"usually",win:1,val:"魏军，去A山口"},B:{type:"usually",win:1,val:"魏军，去B山口"},C:{type:"usually",win:3,val:"蜀军，去A山口"},D:{type:"usually",win:3,val:"蜀军，去B山口"}},or=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n有A、B两个山口，魏军只要一个山口人更多就获胜。蜀军必须在两个山口都人数更多才能获胜。\n魏军胜利+1分，蜀军胜利+3分，你会加入？",options:sr,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A"),n=t.count("B"),a=t.count("C"),i=t.count("D");return r<a&&n<i?{C:sr.C.win,D:sr.D.win}:r>a||n>i?{A:sr.A.win,B:sr.B.win}:{}}},Symbol.toStringTag,{value:"Module"})),ur=1,cr=2,lr=-2,hr=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n坏老人摔倒了，有好心人去扶，好心人+2分。\n但是如果没有围观群众，好心人不但不加分，还会被敲诈-2分给坏老人平分。\n你的身份是？",options:{A:{type:"usually",val:"坏老人"},B:{type:"usually",val:"好心人"},C:{type:"usually",val:"围观群众"}},least:-2,timeout:3e4,judge:function(e){var t=e.answer;return t.count("C")>=ur?{B:cr}:{A:-lr*t.count("B")/t.count("A"),B:lr}}},Symbol.toStringTag,{value:"Module"})),fr={A:{type:"usually",safe:2,boom:0,val:"群友（+2分，如果群被封则改为0分）"},B:{type:"usually",safe:2,boom:-2,val:"管理员（+2分，如果群被封则改为-2分）"},C:{type:"usually",safe:1,boom:1,val:"乐子人（+1分）"},D:{type:"special",safe:-2,boom:2,val:"审核（-2分，如果群被封则改为+2分）",rate:500}},pr=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n有个不正经的群，如果乐子人比管理员多，就会导致群被封。你的身份是？",options:fr,least:-2,timeout:3e4,judge:function(e){var t=e.answer;return t.count("C")>t.count("B")?{A:fr.A.boom,B:fr.B.boom,C:fr.C.boom,D:fr.D.boom}:{A:fr.A.safe,B:fr.B.safe,C:fr.C.safe,D:fr.D.safe}}},Symbol.toStringTag,{value:"Module"})),dr=2,vr=-1,yr={A:{type:"usually",val:"1",number:1},B:{type:"usually",val:"2",number:2},C:{type:"usually",val:"3",number:3},D:{type:"usually",val:"4",number:4},E:{type:"special",val:"1.5",number:1.5,rate:500}},wr=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n人数最接近选项数字的+2分，最远的-1分。",options:yr,least:-1,timeout:3e4,judge:function(e){var t=e.answer,r=a(e.picked).map((function(e){return[e,Math.abs(t.count(e)-yr[e].number)]})).sort((function(e,t){return s(e,2)[1]-s(t,2)[1]})),n=r.at(0)[1],i=r.at(-1)[1],o={};return r.forEach((function(e){var t=s(e,2),r=t[0],a=t[1];a!=i?a==n&&(o[r]=dr):o[r]=vr})),o}},Symbol.toStringTag,{value:"Module"})),_r={A:{type:"usually",success:2,between:[1,2,!0,!0],val:"来1-2个人"},B:{type:"usually",success:2,between:[2,3,!0,!0],val:"来2-3个人"},C:{type:"usually",success:2,between:[3,4,!0,!0],val:"来3-4个人"},D:{type:"usually",success:2,between:[4,5,!0,!0],val:"来4-5个人"},E:{type:"special",success:2,between:[1,1,!0,!0],val:"来1个人",rate:500}},br=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n达成选项要求的+2分。",options:_r,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){oe.apply(void 0,[t.count(e)].concat(a(_r[e].between)))&&(n[e]=_r[e].success)})),n}},Symbol.toStringTag,{value:"Module"})),gr={A:{type:"usually",safe:[0,1,!0,!0],faild:-2,val:"阳台（上限1人）"},B:{type:"usually",safe:[0,2,!0,!0],faild:-2,val:"厨房（上限2人）"},C:{type:"usually",safe:[0,3,!0,!0],faild:-2,val:"客厅（上限3人）"},D:{type:"usually",safe:[0,4,!0,!0],faild:-2,val:"小院（上限4人）"},E:{type:"special",safe:[0,1,!0,!0],faild:-2,val:"卫生间（上限1人）",rate:500},F:{type:"special",safe:[0,1,!0,!0],faild:-2,val:"储藏室（上限1人）",rate:500}},kr=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n请选择一处聚集点，人数超过上限的会被传染，-2分。",options:gr,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=gr[e],i=r.safe,s=r.faild,o=r.extra,u=r.exscore;o&&oe.apply(void 0,[t.count(e)].concat(a(o)))?n[e]=u:oe.apply(void 0,[t.count(e)].concat(a(i)))||(n[e]=s)})),n}},Symbol.toStringTag,{value:"Module"})),mr=10,xr=4,Br={A:{type:"usually",invest:0,val:"不投资"},B:{type:"usually",invest:1,val:"投1分"},C:{type:"usually",invest:2,val:"投2分"},D:{type:"usually",invest:3,val:"投3分"}},Ar=Object.freeze(Object.defineProperty({__proto__:null,question:"第四关：\n可以投资1-3分，投资会使你失去这些积分。\n如果总投资达到10分，返还所有投资人4分。",options:Br,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=a(e.picked).reduce((function(e,r){return e+t.count(r)*Br[r].invest}),0)>=mr?xr:0;return{B:r-Br.B.invest,C:r-Br.C.invest,D:r-Br.D.invest}}},Symbol.toStringTag,{value:"Module"})),Sr=-2,Cr={A:{type:"usually",stock:3,score:1,val:"抢传说卡"},B:{type:"usually",stock:10,score:.5,val:"抢稀有卡"},C:{type:"usually",stock:1/0,score:0,val:"拿保底的普通卡"}},zr=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n现有3张传说卡（+1分），10张稀有卡（+0.5分），不限数量的普通卡（0分）。\n限量的卡牌会随机分配给来抢的人，但没抢到卡的人-2分。你的选择是？",options:Cr,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=t.count(e);if(r){var a=Cr[e],i=a.stock,s=a.score;if(i>=r)s&&(n[e]=s);else{var o=t.users(e),u=new Set(ae(o,i));n[e]=function(e){var t=e.uuid;return u.has(t)?s:Sr}}}})),n}},Symbol.toStringTag,{value:"Module"})),jr={A:{type:"usually",scores:{A:40,B:30,C:20,D:10},val:"A（A40分，B30分，C20分，D10分）"},B:{type:"usually",scores:{A:20,B:60,D:20},val:"B（A20分，B60分，不给C，D20分）"},C:{type:"usually",scores:{C:50,D:50},val:"C（不给A，不给B，C50分，D50分）"},D:{type:"usually",scores:{A:25,B:25,C:25,D:25},val:"D（A25分，B25分，C25分，D25分）"}},Er=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n下面有四种方案分配100积分，按人数最多的方案执行。\n执行后选项内部平分得到的积分。",options:jr,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={},n=function(e,t){r[e]?r[e]+=t:r[e]=t};for(var a in t.crank()[0].forEach((function(e){var t=jr[e].scores;for(var r in t)t[r]&&n(r,t[r])})),r){var i=t.count(a);i?r[a]=r[a]/i:delete r[a]}return r}},Symbol.toStringTag,{value:"Module"})),Or=150,Dr=["A","B","C"],Mr="D",qr="E",Wr={A:{type:"usually",between:[1,10],val:"任务A（来1-10个人）"},B:{type:"usually",between:[10,30],val:"任务B（来10-30个人）"},C:{type:"usually",between:[30,1/0],val:"任务C（来至少30个人）"},D:{type:"usually",score:.5,val:"群众（+0.5分）"},E:{type:"special",score:1,faild:-1,val:"敌人（+1分，如果ABC三项任务都成功了，改为-1分）",rate:500}},$r=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n如果ABC三项任务都成功了，则选这三项的人平分150分",options:Wr,least:-1,timeout:3e4,judge:function(e){var t,r=e.answer,n=Dr,i=Or,s=qr,o=h({},Mr,Wr[Mr].score),u=0,c=f(n);try{for(c.s();!(t=c.n()).done;){var l=t.value,p=r.count(l);if(u+=p,!oe.apply(void 0,[p].concat(a(Wr[l].between))))return o[s]=Wr[s].score,o}}catch(Di){c.e(Di)}finally{c.f()}o[s]=Wr[s].faild;var d,v=i/u,y=f(n);try{for(y.s();!(d=y.n()).done;){o[d.value]=v}}catch(Di){y.e(Di)}finally{y.f()}return o}},Symbol.toStringTag,{value:"Module"})),Pr=150,Tr=["A","B"],Rr="C",Hr="D",Fr={A:{type:"usually",between:[1,10],val:"任务A（来1-10个人）"},B:{type:"usually",between:[30,1/0],val:"任务B（来至少30个人）"},C:{type:"usually",score:1,val:"群众（+1分）"},D:{type:"special",score:2,faild:-2,val:"敌人（+2分，如果AB两项任务都成功了，改为-2分）",rate:500}},Ur=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n如果AB两项任务都成功了，则选这两项的人平分150分",options:Fr,least:-2,timeout:3e4,judge:function(e){var t,r=e.answer,n=Tr,i=Pr,s=Hr,o=h({},Rr,Fr[Rr].score),u=0,c=f(n);try{for(c.s();!(t=c.n()).done;){var l=t.value,p=r.count(l);if(u+=p,!oe.apply(void 0,[p].concat(a(Fr[l].between))))return o[s]=Fr[s].score,o}}catch(Di){c.e(Di)}finally{c.f()}o[s]=Fr[s].faild;var d,v=i/u,y=f(n);try{for(y.s();!(d=y.n()).done;){o[d.value]=v}}catch(Di){y.e(Di)}finally{y.f()}return o}},Symbol.toStringTag,{value:"Module"})),Lr=-2,Ir=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\nAB两车狭路相逢。如果两车都直行则会相撞，所有选直行的人-2分。如果一车直行一车躲避，则在躲避的车中选躲避的人-2分。\nA、B两车按各自人数多的选项行动，你的选择是？",options:{A:{type:"usually",val:"A车直行"},B:{type:"usually",val:"A车躲避"},C:{type:"usually",val:"B车直行"},D:{type:"usually",val:"B车躲避"}},least:-2,timeout:3e4,judge:function(e){var t=e.answer,r={},n=Lr,a=function(e,t){return e==t?"$":e>t?"|":"S"};switch(a(t.count("A"),t.count("B"))+a(t.count("C"),t.count("D"))){case"S|":case"S$":r.B=n;break;case"|S":case"$S":r.D=n;break;case"||":r.A=n,r.C=n;break;case"|$":r.A=n,r.C=n,r.D=n;break;case"$|":r.A=n,r.B=n,r.C=n;break;case"$$":r.A=n,r.B=n,r.C=n,r.D=n}return r}},Symbol.toStringTag,{value:"Module"})),Zr=250,Nr=["A","B","C","D","E","F","G","H"],Gr={A:{type:"usually",take:1,val:"1分"},B:{type:"usually",take:2,val:"2分"},C:{type:"usually",take:3,val:"3分"},D:{type:"usually",take:4,val:"4分"},E:{type:"usually",take:5,val:"5分"},F:{type:"usually",take:6,val:"6分"},G:{type:"usually",take:7,val:"7分"},H:{type:"usually",take:8,val:"8分"}},Kr=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n一共有250分，所有人都尝试取走一部分，选1分的一组先取，然后选2分的一组取，以此类推，取完为止。（如果不够一组取，则该组平分剩余积分）",options:Gr,least:0,timeout:3e4,judge:function(e){var t,r=e.answer,n={},a=Zr,i=f(Nr);try{for(i.s();!(t=i.n()).done;){var s=t.value,o=Gr[s].take,u=r.count(s),c=o*u;if(c>=a){n[s]=a/u;break}a-=c,n[s]=o}}catch(Di){i.e(Di)}finally{i.f()}return n}},Symbol.toStringTag,{value:"Module"})),Xr=200,Jr={A:{type:"usually",offer:1,val:"1分"},B:{type:"usually",offer:2,val:"2分"},C:{type:"usually",offer:3,val:"3分"},D:{type:"usually",offer:4,val:"4分"},E:{type:"usually",offer:5,val:"5分"},F:{type:"usually",offer:6,val:"6分"},G:{type:"usually",offer:7,val:"7分"},H:{type:"usually",offer:8,val:"8分"},I:{type:"usually",offer:9,val:"9分"},J:{type:"usually",offer:10,val:"10分"}},Yr=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n现在拍卖200积分。以下有十个团队供你选择，积分乘团队人数就是团队的总出价。这200积分会卖给总出价最高的团队，减去总出价之后再平分，就是队员得到的积分。",options:Jr,least:0,timeout:3e4,judge:function(e){var t,r=e.answer,n=a(e.picked).map((function(e){return[r.count(e)*Jr[e].offer,e]})).sort((function(e,t){var r=s(e,1)[0];return s(t,1)[0]-r})),i=n[0][0],o={},u=f(n);try{for(u.s();!(t=u.n()).done;){var c=s(t.value,2),l=c[0],h=c[1];if(l!=i)return o;o[h]=(Xr-i)/r.count(h)}}catch(Di){u.e(Di)}finally{u.f()}return o}},Symbol.toStringTag,{value:"Module"})),Vr=1,Qr=2,en=3,tn=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n齐威王和田忌各有上中下三匹马，一共赛跑三轮。如果同等的马赛跑，田忌的跑不过齐威王的。\n如果你支持齐威王的任何一匹马，齐威王每赢一轮你就+1分。\n如果支持田忌，田忌每赢一轮你就+2分。\n你支持谁？\n双方人气最高的马将出战第一轮，第二高的马出战第二轮，最低的出战第三轮。\n如果人气相同，则等级高的马先出战。",options:{A:{type:"usually",val:"齐威王 上等马"},B:{type:"usually",val:"齐威王 中等马"},C:{type:"usually",val:"齐威王 下等马"},D:{type:"usually",val:"田忌 上等马"},E:{type:"usually",val:"田忌 中等马"},F:{type:"usually",val:"田忌 下等马"},G:{type:"special",val:"伯乐（如果任何一方上等马人气最高，+3分）",rate:500}},least:0,timeout:3e4,judge:function(e){var t=e.answer,r=function(e,t,r){return[[e,1],[t,2],[r,3]].sort((function(e,t){var r=s(e,1)[0];return s(t,1)[0]-r})).map((function(e){return s(e,2)[1]}))},n=r(t.count("A"),t.count("B"),t.count("C")),a=r(t.count("D"),t.count("E"),t.count("F")),i={};1!=n[0]&&1!=a[0]||(i.G=en);var o=function(e,t){return Array.from(e?"ABC":"DEF").forEach((function(e){return i[e]=t}))};switch(n.join("")+a.join("")){case"123123":case"132132":case"213213":case"231231":case"312312":case"321321":o(!0,3*Vr);break;case"123231":case"132213":case"231312":case"213321":case"312123":case"321132":o(!0,2*Vr),o(!1,Qr);break;case"123312":case"132321":case"231123":case"213132":case"312231":case"321213":o(!0,Vr),o(!1,2*Qr)}return i}},Symbol.toStringTag,{value:"Module"})),rn=-2,nn={A:{type:"usually",stock:1,score:1,val:"抢传说卡"},B:{type:"usually",stock:3,score:.5,val:"抢稀有卡"},C:{type:"usually",stock:1/0,score:0,val:"拿保底的普通卡"}},an=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n现有1张传说卡（+1分），3张稀有卡（+0.5分），不限数量的普通卡（0分）。\n限量的卡牌会随机分配给来抢的人，但没抢到卡的人-2分。你的选择是？",options:nn,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=e.picked,n={};return a(r).forEach((function(e){var r=t.count(e);if(r){var a=nn[e],i=a.stock,s=a.score;if(i>=r)s&&(n[e]=s);else{var o=t.users(e),u=new Set(ae(o,i));n[e]=function(e){var t=e.uuid;return u.has(t)?s:rn}}}})),n}},Symbol.toStringTag,{value:"Module"})),sn={A:{type:"usually",scores:{A:4,B:3,C:2,D:1},val:"A（A4分，B3分，C2分，D1分）"},B:{type:"usually",scores:{A:2,B:6,D:2},val:"B（A2分，B6分，不给C，D2分）"},C:{type:"usually",scores:{C:5,D:5},val:"C（不给A，不给B，C5分，D5分）"},D:{type:"usually",scores:{A:2.5,B:2.5,C:2.5,D:2.5},val:"D（A2.5分，B2.5分，C2.5分，D2.5分）"}},on=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n下面有四种方案分配10积分，按人数最多的方案执行。\n执行后选项内部平分得到的积分。",options:sn,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={},n=function(e,t){r[e]?r[e]+=t:r[e]=t};for(var a in t.crank()[0].forEach((function(e){var t=sn[e].scores;for(var r in t)t[r]&&n(r,t[r])})),r){var i=t.count(a);i?r[a]=r[a]/i:delete r[a]}return r}},Symbol.toStringTag,{value:"Module"})),un=15,cn=["A","B","C"],ln="D",hn="E",fn={A:{type:"usually",between:[1,1],val:"任务A（来1个人）"},B:{type:"usually",between:[1,3],val:"任务B（来1-3个人）"},C:{type:"usually",between:[3,1/0],val:"任务C（来至少3个人）"},D:{type:"usually",score:.5,val:"群众（+0.5分）"},E:{type:"special",score:1,faild:-1,val:"敌人（+1分，如果ABC三项任务都成功了，改为-1分）",rate:500}},pn=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n如果ABC三项任务都成功了，则选这三项的人平分15分",options:fn,least:-1,timeout:3e4,judge:function(e){var t,r=e.answer,n=cn,i=un,s=hn,o=h({},ln,fn[ln].score),u=0,c=f(n);try{for(c.s();!(t=c.n()).done;){var l=t.value,p=r.count(l);if(u+=p,!oe.apply(void 0,[p].concat(a(fn[l].between))))return o[s]=fn[s].score,o}}catch(Di){c.e(Di)}finally{c.f()}o[s]=fn[s].faild;var d,v=i/u,y=f(n);try{for(y.s();!(d=y.n()).done;){o[d.value]=v}}catch(Di){y.e(Di)}finally{y.f()}return o}},Symbol.toStringTag,{value:"Module"})),dn=15,vn=["A","B"],yn="C",wn="D",_n={A:{type:"usually",between:[1,1],val:"任务A（来1个人）"},B:{type:"usually",between:[3,1/0],val:"任务B（来至少3个人）"},C:{type:"usually",score:1,val:"群众（+1分）"},D:{type:"special",score:2,faild:-2,val:"敌人（+2分，如果AB两项任务都成功了，改为-2分）",rate:500}},bn=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n如果AB两项任务都成功了，则选这两项的人平分15分",options:_n,least:-2,timeout:3e4,judge:function(e){var t,r=e.answer,n=vn,i=dn,s=wn,o=h({},yn,_n[yn].score),u=0,c=f(n);try{for(c.s();!(t=c.n()).done;){var l=t.value,p=r.count(l);if(u+=p,!oe.apply(void 0,[p].concat(a(_n[l].between))))return o[s]=_n[s].score,o}}catch(Di){c.e(Di)}finally{c.f()}o[s]=_n[s].faild;var d,v=i/u,y=f(n);try{for(y.s();!(d=y.n()).done;){o[d.value]=v}}catch(Di){y.e(Di)}finally{y.f()}return o}},Symbol.toStringTag,{value:"Module"})),gn=-2,kn=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\nAB两车狭路相逢。如果两车都直行则会相撞，所有选直行的人-2分。如果一车直行一车躲避，则在躲避的车中选躲避的人-2分。\nA、B两车按各自人数多的选项行动，你的选择是？",options:{A:{type:"usually",val:"A车直行"},B:{type:"usually",val:"A车躲避"},C:{type:"usually",val:"B车直行"},D:{type:"usually",val:"B车躲避"}},least:-2,timeout:3e4,judge:function(e){var t=e.answer,r={},n=gn,a=function(e,t){return e==t?"$":e>t?"|":"S"};switch(a(t.count("A"),t.count("B"))+a(t.count("C"),t.count("D"))){case"S|":case"S$":r.B=n;break;case"|S":case"$S":r.D=n;break;case"||":r.A=n,r.C=n;break;case"|$":r.A=n,r.C=n,r.D=n;break;case"$|":r.A=n,r.B=n,r.C=n;break;case"$$":r.A=n,r.B=n,r.C=n,r.D=n}return r}},Symbol.toStringTag,{value:"Module"})),mn=25,xn=["A","B","C","D","E","F","G","H"],Bn={A:{type:"usually",take:1,val:"1分"},B:{type:"usually",take:2,val:"2分"},C:{type:"usually",take:3,val:"3分"},D:{type:"usually",take:4,val:"4分"},E:{type:"usually",take:5,val:"5分"},F:{type:"usually",take:6,val:"6分"},G:{type:"usually",take:7,val:"7分"},H:{type:"usually",take:8,val:"8分"}},An=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n一共有25分，所有人都尝试取走一部分，选1分的一组先取，然后选2分的一组取，以此类推，取完为止。（如果不够一组取，则该组平分剩余积分）",options:Bn,least:0,timeout:3e4,judge:function(e){var t,r=e.answer,n={},a=mn,i=f(xn);try{for(i.s();!(t=i.n()).done;){var s=t.value,o=Bn[s].take,u=r.count(s),c=o*u;if(c>=a){n[s]=a/u;break}a-=c,n[s]=o}}catch(Di){i.e(Di)}finally{i.f()}return n}},Symbol.toStringTag,{value:"Module"})),Sn=20,Cn={A:{type:"usually",offer:1,val:"1分"},B:{type:"usually",offer:2,val:"2分"},C:{type:"usually",offer:3,val:"3分"},D:{type:"usually",offer:4,val:"4分"},E:{type:"usually",offer:5,val:"5分"},F:{type:"usually",offer:6,val:"6分"},G:{type:"usually",offer:7,val:"7分"},H:{type:"usually",offer:8,val:"8分"},I:{type:"usually",offer:9,val:"9分"},J:{type:"usually",offer:10,val:"10分"}},zn=Object.freeze(Object.defineProperty({__proto__:null,question:"第五关：\n现在拍卖20积分。以下有十个团队供你选择，积分乘团队人数就是团队的总出价。这20积分会卖给总出价最高的团队，减去总出价之后再平分，就是队员得到的积分。",options:Cn,least:0,timeout:3e4,judge:function(e){var t,r=e.answer,n=a(e.picked).map((function(e){return[r.count(e)*Cn[e].offer,e]})).sort((function(e,t){var r=s(e,1)[0];return s(t,1)[0]-r})),i=n[0][0],o={},u=f(n);try{for(u.s();!(t=u.n()).done;){var c=s(t.value,2),l=c[0],h=c[1];if(l!=i)return o;o[h]=(Sn-i)/r.count(h)}}catch(Di){u.e(Di)}finally{u.f()}return o}},Symbol.toStringTag,{value:"Module"})),jn={A:{type:"usually",score:1,val:"奴隶（+1分）"},B:{type:"usually",score:2,val:"骑士（如果比奴隶少，+2分）"},C:{type:"usually",score:3,val:"贵族（如果奴隶最多，+3分）"},D:{type:"usually",score:4,val:"主教（如果骑士最多，+4分）"},E:{type:"special",score:5,val:"教皇（如果贵族或主教最多，+5分）",rate:500}},En=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:jn,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={A:jn.A.score},n=t.crank(),a=new Set(n[0]);return t.count("A")>t.count("B")&&(r.B=jn.B.score),a.has("A")&&(r.C=jn.C.score),a.has("B")&&(r.D=jn.D.score),(a.has("C")||a.has("D"))&&(r.E=jn.E.score),r}},Symbol.toStringTag,{value:"Module"})),On={A:{type:"usually",score:1,surplus:2,val:"打工人（+1分，剩余价值+2）"},B:{type:"usually",score:1,surplus:1,exception:1,val:"摸鱼人（+1分，剩余价值+1，但随机1位被优化除名）"},C:{type:"usually",score:2,surplus:4,exception:2,val:"卷王（+2分，剩余价值+4，但随机2位过劳死除名）"},D:{type:"usually",val:"资本家（平分所有剩余价值转化为积分）"},E:{type:"usually",score:1,val:"贪官（+1分，如果比资本家少，则夺走资本家一半积分）"},F:{type:"usually",score:3,check:1,val:"反腐队长（如果贪官收入大于1，则使贪官收入清零，并且你+3分）"},G:{type:"special",val:"工人领袖（如果比资本家少，则夺走资本家剩余积分，与打工人、摸鱼人、卷王一起平分。）",rate:500}},Dn=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:On,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={},n=t.count("A"),a=t.count("B"),i=t.count("C"),s=t.count("D"),o=t.count("E"),u=t.count("F"),c=t.count("G"),l=On.B.exception,h=On.C.exception,f=a>l?a-l:0,p=i>h?i-h:0,d=On.A.surplus*n;if(f&&(d+=On.B.surplus*f),p&&(d+=On.C.surplus*p),s&&(r.D=d/s),o){var v=On.E.score;o<s?(r.D=d/2/s,r.E=v+d/2/o):r.E=v}u&&o&&r.E>On.F.check&&(delete r.E,r.F=On.F.score);var y=function(e){if(n&&(r.A=On.A.score+e),f){var a=new Set(ae(t.users("B"),l));r.B=function(t){var r=t.uuid;return a.has(r)?0:On.B.score+e}}if(p){var i=new Set(ae(t.users("C"),h));r.C=function(t){var r=t.uuid;return i.has(r)?0:On.C.score+e}}};if(c&&c<s){var w=s*r.D;delete r.D;var _=w/(n+f+p+c);r.G=_,y(_)}else y(0);return r}},Symbol.toStringTag,{value:"Module"})),Mn={A:{type:"usually",score:4,val:"国王（+4分，如果被刺杀，则这4分会被刺客平分）"},B:{type:"usually",val:"刺客（比卫兵多就刺杀国王）"},C:{type:"usually",score:1,extra:2,val:"卫兵（+1分，如果有活着的国王，额外+2分）"},D:{type:"usually",score:2,extra:-1,val:"仆人（+1分，如果没有活着的国王，额外+1分）"}},qn=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:Mn,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A"),n=t.count("B"),a=t.count("C"),i=Mn.A.score,s=Mn.C.score,o=Mn.D.score;return!r||n>a?{B:i*r/n,C:s,D:o}:{A:i,C:s+Mn.C.extra,D:o+Mn.D.extra}}},Symbol.toStringTag,{value:"Module"})),Wn={A:{type:"usually",good:2,bad:-2,val:"老师"},B:{type:"usually",good:1,bad:0,val:"好学生（如果比坏学生多，好学生+1分，老师+2分）"},C:{type:"usually",good:0,bad:0,val:"坏学生（如果比好学生多，老师-2分）"}},$n=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:Wn,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("B"),n=t.count("C");return r>n?{A:Wn.A.good,B:Wn.B.good,C:Wn.C.good}:r<n?{A:Wn.A.bad,B:Wn.B.bad,C:Wn.C.bad}:{}}},Symbol.toStringTag,{value:"Module"})),Pn={A:{type:"usually",score:1,val:"奴隶（+1分）"},B:{type:"usually",score:2,val:"骑士（如果比奴隶少，+2分）"},C:{type:"usually",score:3,val:"贵族（如果奴隶最多，+3分）"},D:{type:"special",score:4,val:"主教（如果骑士最多，+4分）",rate:500}},Tn=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:Pn,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={A:Pn.A.score},n=t.crank(),a=new Set(n[0]);return t.count("A")>t.count("B")&&(r.B=Pn.B.score),a.has("A")&&(r.C=Pn.C.score),a.has("B")&&(r.D=Pn.D.score),r}},Symbol.toStringTag,{value:"Module"})),Rn={A:{type:"usually",score:1,surplus:2,val:"打工人（+1分，剩余价值+2）"},B:{type:"usually",score:2,surplus:4,val:"卷王（+2分，剩余价值+4)"},C:{type:"usually",val:"资本家（平分所有剩余价值转化为积分）"},D:{type:"usually",val:"贪官（如果比资本家少，则夺走资本家一半积分）"},E:{type:"special",score:3,check:1,val:"反腐队长（如果贪官收入大于1，则使贪官收入清零，并且你+3分）",rate:500}},Hn=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:Rn,least:0,timeout:3e4,judge:function(e){var t=e.answer,r={},n=t.count("A"),a=t.count("B"),i=t.count("C"),s=t.count("D"),o=t.count("E"),u=Rn.A.surplus*n+Rn.B.surplus*a;return n&&(r.A=Rn.A.score),a&&(r.B=Rn.B.score),i&&(r.C=u/i),s&&s<i&&(r.C=u/2/i,r.D=u/2/s),o&&s&&r.D>Rn.E.check&&(delete r.D,r.E=Rn.E.score),r}},Symbol.toStringTag,{value:"Module"})),Fn={A:{type:"usually",score:4,val:"国王（+4分，如果被刺杀，则这4分会被刺客平分）"},B:{type:"usually",val:"刺客（比卫兵多就刺杀国王）"},C:{type:"usually",score:1,extra:2,val:"卫兵（+1分，如果有活着的国王，额外+2分）"},D:{type:"usually",score:2,extra:-1,val:"仆人（+1分，如果没有活着的国王，额外+1分）"}},Un=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:Fn,least:0,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("A"),n=t.count("B"),a=t.count("C"),i=Fn.A.score,s=Fn.C.score,o=Fn.D.score;return!r||n>a?{B:i*r/n,C:s,D:o}:{A:i,C:s+Fn.C.extra,D:o+Fn.D.extra}}},Symbol.toStringTag,{value:"Module"})),Ln={A:{type:"usually",good:2,bad:-2,val:"老师"},B:{type:"usually",good:1,bad:0,val:"好学生（如果比坏学生多，好学生+1分，老师+2分）"},C:{type:"usually",good:0,bad:0,val:"坏学生（如果比好学生多，老师-2分）"}},In=Object.freeze(Object.defineProperty({__proto__:null,question:"第六关：\n请选择一项身份。",options:Ln,least:-2,timeout:3e4,judge:function(e){var t=e.answer,r=t.count("B"),n=t.count("C");return r>n?{A:Ln.A.good,B:Ln.B.good,C:Ln.C.good}:r<n?{A:Ln.A.bad,B:Ln.B.bad,C:Ln.C.bad}:{}}},Symbol.toStringTag,{value:"Module"})),Zn=Object.freeze(Object.defineProperty({__proto__:null,question:"第七关：\n请任意选择一项。",options:{A:{type:"usually",val:"如果你是目前总积分最高的人，总积分变为0"},B:{type:"usually",val:"-0.5分"}},least:-.5,timeout:3e4,judge:function(e){var t=e.score,r=new Set(t.crank()[0]||[]);return{A:function(e){var t=e.uuid;return r.has(t)?{type:"set",value:0}:0},B:-.5}}},Symbol.toStringTag,{value:"Module"})),Nn=Object.freeze(Object.defineProperty({__proto__:null,question:"第七关：\n请任意选择一项。",options:{A:{type:"usually",val:"如果你是目前总积分最高的人，总积分变为0"},B:{type:"usually",val:"-0.5分"}},least:-.5,timeout:3e4,judge:function(e){var t=e.score,r=new Set(t.crank()[0]||[]);return{A:function(e){var t=e.uuid;return r.has(t)?{type:"set",value:0}:0},B:-.5}}},Symbol.toStringTag,{value:"Module"})),Gn=Object.freeze(Object.defineProperty({__proto__:null,q1001:ce,qs1001:he,q2001:pe,q2002:ve,q2003:we,q2004:ke,q2005:Ae,q2006:ze,q2007:De,q2008:We,qs2001:Pe,qs2002:Re,qs2003:Fe,qs2004:Ze,qs2005:Xe,qs2006:Ve,qs2007:rt,qs2008:it,q3001:ot,q3002:ct,q3003:ht,q3004:pt,q3005:wt,q3006:bt,qs3001:kt,qs3002:xt,qs3003:At,qs3004:Ct,qs3005:Ot,qs3006:Mt,q4001:$t,q4002:Tt,q4003:Ut,q4004:It,q4005:Kt,q4006:Jt,q4007:Vt,q4008:rr,qs4001:ir,qs4002:or,qs4003:hr,qs4004:pr,qs4005:wr,qs4006:br,qs4007:kr,qs4008:Ar,q5001:zr,q5002:Er,q5003:$r,q5004:Ur,q5005:Ir,q5006:Kr,q5007:Yr,q5008:tn,qs5001:an,qs5002:on,qs5003:pn,qs5004:bn,qs5005:kn,qs5006:An,qs5007:zn,q6001:En,q6002:Dn,q6003:qn,q6004:$n,qs6001:Tn,qs6002:Hn,qs6003:Un,qs6004:In,q7001:Zn,qs7001:Nn},Symbol.toStringTag,{value:"Module"})),Kn=new Map;Kn.set(10,[["qs1001"],["qs2001","qs2002","qs2003","qs2004","qs2005","qs2006","qs2007","qs2008"],["qs3001","qs3002","qs3003","qs3004","qs3005","qs3006"],["qs4001","qs4002","qs4003","qs4004","qs4005","qs4006","qs4007","qs4008"],["qs5001","qs5002","qs5003","qs5004","qs5005","qs5006","qs5007"],["qs6001","qs6002","qs6003","qs6004"],["qs7001"]]),Kn.set(100,[["q1001"],["q2001","q2002","q2003","q2004","q2005","q2006","q2007","q2008"],["q3001","q3002","q3003","q3004","q3005","q3006"],["q4001","q4002","q4003","q4004","q4005","q4006","q4007","q4008"],["q5001","q5002","q5003","q5004","q5005","q5006","q5007","q5008"],["q6001","q6002","q6003","q6004"],["q7001"]]);var Xn=new WeakMap,Jn=new WeakMap,Yn=new WeakMap,Vn=function(){function e(t){var r=this,n=t.options;S(this,e),j(this,Xn,{writable:!0,value:void 0}),j(this,Jn,{writable:!0,value:new Map}),j(this,Yn,{writable:!0,value:new Map}),D(this,Xn,new Set(a(n))),O(this,Xn).forEach((function(e){O(r,Yn).set(e,0)}))}return z(e,[{key:"size",get:function(){return O(this,Jn).size}},{key:"counter",get:function(){return new Map(O(this,Yn))}},{key:"map",get:function(){return new Map(O(this,Jn))}},{key:"minify",get:function(){var e={};return O(this,Yn).forEach((function(t,r){t&&(e[r]=t)})),e}},{key:"answer",value:function(e,t){return!(O(this,Jn).has(e)||!O(this,Xn).has(t))&&(O(this,Jn).set(e,t),O(this,Yn).set(t,this.count(t)+1),!0)}},{key:"has",value:function(e){return O(this,Jn).has(e)}},{key:"get",value:function(e){return O(this,Jn).get(e)}},{key:"count",value:function(e){return O(this,Yn).get(e)||0}},{key:"most",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.count(e),a=f(O(this,Yn));try{for(a.s();!(t=a.n()).done;){var i=s(t.value,2),o=i[0],u=i[1];if(o!=e&&(u>n||r&&u==n))return!1}}catch(Di){a.e(Di)}finally{a.f()}return!0}},{key:"least",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.count(e),a=f(O(this,Yn));try{for(a.s();!(t=a.n()).done;){var i=s(t.value,2),o=i[0],u=i[1];if(o!=e&&(u<n||r&&u==n))return!1}}catch(Di){a.e(Di)}finally{a.f()}return!0}},{key:"same",value:function(e){var t=this,r=this.count(e),n=0;return O(this,Yn).forEach((function(e){t.count(e)==r&&n++})),n}},{key:"maxsame",value:function(){var e=this,t={};return O(this,Xn).forEach((function(r){var n=e.count(r);t[n]=(t[n]||0)+1})),Math.max.apply(Math,a(Object.values(t)))}},{key:"crank",value:function(){return e=O(this,Yn),t=[],Array.from(e.entries()).sort((function(e,t){var r=s(e,2),n=(r[0],r[1]),a=s(t,2);return a[0],a[1]-n})).forEach((function(e,r,n){var a=s(e,2),i=a[0],o=a[1];if(!r)return t.push([i]);n[r-1][1]==o?t.at(-1).push(i):t.push([i])})),t;var e,t}},{key:"users",value:function(e){var t=[];return O(this,Jn).forEach((function(r,n){r==e&&t.push(n)})),t}}]),e}(),Qn=new WeakMap,ea=new WeakMap,ta=new WeakMap,ra=new WeakMap,na=new WeakMap,aa=new WeakMap,ia=new WeakMap,sa=new WeakMap,oa=function(){function e(t,r){S(this,e),j(this,Qn,{writable:!0,value:void 0}),j(this,ea,{writable:!0,value:void 0}),j(this,ta,{writable:!0,value:void 0}),j(this,ra,{writable:!0,value:void 0}),j(this,na,{writable:!0,value:void 0}),j(this,aa,{writable:!0,value:void 0}),j(this,ia,{writable:!0,value:void 0}),j(this,sa,{writable:!0,value:void 0});var n=Gn[t],i=n.question,s=n.options,o=n.least,u=n.timeout,c=n.judge;if(D(this,Qn,t),D(this,ea,i),D(this,ta,s),D(this,aa,o),D(this,ia,u),D(this,na,c),r)r=new Set(a(r));else for(var l in r=new Set,O(this,ta)){var h=O(this,ta)[l],f=h.type,p=h.rate;"usually"!=f?1e4*Math.random()<p&&r.add(l):r.add(l)}D(this,ra,a(r).sort().join("")),D(this,sa,new Vn({options:r}))}return z(e,[{key:"id",get:function(){return O(this,Qn)}},{key:"question",get:function(){return O(this,ea)}},{key:"options",get:function(){return O(this,ta)}},{key:"least",get:function(){return O(this,aa)}},{key:"counter",get:function(){return O(this,sa).counter}},{key:"size",get:function(){return O(this,sa).size}},{key:"answers",get:function(){return O(this,sa)}},{key:"timeout",get:function(){return O(this,ia)}},{key:"picked",get:function(){return O(this,ra)}},{key:"meta",get:function(){return[O(this,Qn),O(this,ra),O(this,sa).minify]}},{key:"option",value:function(e){return O(this,ta)[e]}},{key:"answer",value:function(e,t){return O(this,sa).answer(e,t)}},{key:"has",value:function(e){return O(this,sa).has(e)}},{key:"get",value:function(e){return O(this,sa).get(e)}},{key:"judge",value:function(e){var t=O(this,sa),r=O(this,ra);return O(this,na).call(this,{score:e,answer:t,picked:r})}}],[{key:"get",value:function(t,r){return Gn[t]?new e(t,r):null}}]),e}(),ua=new WeakMap,ca=new WeakMap,la=new WeakMap,ha=new WeakMap,fa=new WeakMap,pa=function(){function e(t,r,n,a,i){S(this,e),j(this,ua,{writable:!0,value:Date.now()}),j(this,ca,{writable:!0,value:void 0}),j(this,la,{writable:!0,value:void 0}),j(this,ha,{writable:!0,value:void 0}),j(this,fa,{writable:!0,value:void 0}),D(this,ca,oa.get(t,r)),D(this,la,"number"==typeof n?n:this.timeout),D(this,ha,a),D(this,fa,i)}return z(e,[{key:"id",get:function(){return O(this,ca).id}},{key:"question",get:function(){return O(this,ca).question}},{key:"timeout",get:function(){return O(this,ca).timeout}},{key:"options",get:function(){for(var e={},t=0,r=a(this.picked);t<r.length;t++){var n=r[t],i=this.option(n);i&&(e[n]=i)}return e}},{key:"picked",get:function(){return O(this,ca).picked},set:function(e){D(this,ca,oa.get(this.id,e))}},{key:"size",get:function(){return O(this,fa)||0},set:function(e){D(this,fa,e)}},{key:"answer",get:function(){return O(this,ha)||""},set:function(e){D(this,ha,e)}},{key:"left",get:function(){var e=O(this,ua),t=O(this,la),r=Date.now(),n=e+t;return Math.max(n-r,0)}},{key:"answers",get:function(){return O(this,ca).answers}},{key:"puts",value:function(e){var t,r=O(this,ca),n=f(e);try{for(n.s();!(t=n.n()).done;){var a=s(t.value,2),i=a[0],o=a[1];r.answer(i,o)}}catch(Di){n.e(Di)}finally{n.f()}}},{key:"option",value:function(e){return $utils.clone(O(this,ca).option(e))}}]),e}(),da=function(e){v(r,e);var t=w(r);function r(){return S(this,r),t.apply(this,arguments)}return z(r,[{key:"get",value:function(e,t,r,n){return new pa(e,t,r,n)}}]),r}(l);function va(e){for(var t=e.length;--t>=0;)e[t]=0}var ya=256,wa=286,_a=30,ba=15,ga=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ka=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ma=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),xa=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ba=new Array(576);va(Ba);var Aa=new Array(60);va(Aa);var Sa=new Array(512);va(Sa);var Ca=new Array(256);va(Ca);var za=new Array(29);va(za);var ja,Ea,Oa,Da=new Array(_a);function Ma(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function qa(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}va(Da);var Wa=function(e){return e<256?Sa[e]:Sa[256+(e>>>7)]},$a=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Pa=function(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,$a(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Ta=function(e,t,r){Pa(e,r[2*t],r[2*t+1])},Ra=function(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},Ha=function(e,t,r){var n,a,i=new Array(16),s=0;for(n=1;n<=ba;n++)s=s+r[n-1]<<1,i[n]=s;for(a=0;a<=t;a++){var o=e[2*a+1];0!==o&&(e[2*a]=Ra(i[o]++,o))}},Fa=function(e){var t;for(t=0;t<wa;t++)e.dyn_ltree[2*t]=0;for(t=0;t<_a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ua=function(e){e.bi_valid>8?$a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},La=function(e,t,r,n){var a=2*t,i=2*r;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},Ia=function(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&La(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!La(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},Za=function(e,t,r){var n,a,i,s,o=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+o++],n+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===n?Ta(e,a,t):(i=Ca[a],Ta(e,i+ya+1,t),0!==(s=ga[i])&&(a-=za[i],Pa(e,a,s)),n--,i=Wa(n),Ta(e,i,r),0!==(s=ka[i])&&(n-=Da[i],Pa(e,n,s)))}while(o<e.sym_next);Ta(e,256,t)},Na=function(e,t){var r,n,a,i=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<u;r++)0!==i[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[a]=0,e.opt_len--,o&&(e.static_len-=s[2*a+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)Ia(e,i,r);a=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ia(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*a]=i[2*r]+i[2*n],e.depth[a]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=a,e.heap[1]=a++,Ia(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,a,i,s,o,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,h=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,d=t.stat_desc.max_length,v=0;for(i=0;i<=ba;i++)e.bl_count[i]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(i=u[2*u[2*(n=e.heap[r])+1]+1]+1)>d&&(i=d,v++),u[2*n+1]=i,n>c||(e.bl_count[i]++,s=0,n>=p&&(s=f[n-p]),o=u[2*n],e.opt_len+=o*(i+s),h&&(e.static_len+=o*(l[2*n+1]+s)));if(0!==v){do{for(i=d-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[d]--,v-=2}while(v>0);for(i=d;0!==i;i--)for(n=e.bl_count[i];0!==n;)(a=e.heap[--r])>c||(u[2*a+1]!==i&&(e.opt_len+=(i-u[2*a+1])*u[2*a],u[2*a+1]=i),n--)}}(e,t),Ha(i,c,e.bl_count)},Ga=function(e,t,r){var n,a,i=-1,s=t[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=s,s=t[2*(n+1)+1],++o<u&&a===s||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=a,0===s?(u=138,c=3):a===s?(u=6,c=3):(u=7,c=4))},Ka=function(e,t,r){var n,a,i=-1,s=t[1],o=0,u=7,c=4;for(0===s&&(u=138,c=3),n=0;n<=r;n++)if(a=s,s=t[2*(n+1)+1],!(++o<u&&a===s)){if(o<c)do{Ta(e,a,e.bl_tree)}while(0!=--o);else 0!==a?(a!==i&&(Ta(e,a,e.bl_tree),o--),Ta(e,16,e.bl_tree),Pa(e,o-3,2)):o<=10?(Ta(e,17,e.bl_tree),Pa(e,o-3,3)):(Ta(e,18,e.bl_tree),Pa(e,o-11,7));o=0,i=a,0===s?(u=138,c=3):a===s?(u=6,c=3):(u=7,c=4)}},Xa=!1,Ja=function(e,t,r,n){Pa(e,0+(n?1:0),3),Ua(e),$a(e,r),$a(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Ya=function(e,t,r,n){var a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<ya;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Na(e,e.l_desc),Na(e,e.d_desc),s=function(e){var t;for(Ga(e,e.dyn_ltree,e.l_desc.max_code),Ga(e,e.dyn_dtree,e.d_desc.max_code),Na(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*xa[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=r+5,r+4<=a&&-1!==t?Ja(e,t,r,n):4===e.strategy||i===a?(Pa(e,2+(n?1:0),3),Za(e,Ba,Aa)):(Pa(e,4+(n?1:0),3),function(e,t,r,n){var a;for(Pa(e,t-257,5),Pa(e,r-1,5),Pa(e,n-4,4),a=0;a<n;a++)Pa(e,e.bl_tree[2*xa[a]+1],3);Ka(e,e.dyn_ltree,t-1),Ka(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Za(e,e.dyn_ltree,e.dyn_dtree)),Fa(e),n&&Ua(e)},Va={_tr_init:function(e){Xa||(!function(){var e,t,r,n,a,i=new Array(16);for(r=0,n=0;n<28;n++)for(za[n]=r,e=0;e<1<<ga[n];e++)Ca[r++]=n;for(Ca[r-1]=n,a=0,n=0;n<16;n++)for(Da[n]=a,e=0;e<1<<ka[n];e++)Sa[a++]=n;for(a>>=7;n<_a;n++)for(Da[n]=a<<7,e=0;e<1<<ka[n]-7;e++)Sa[256+a++]=n;for(t=0;t<=ba;t++)i[t]=0;for(e=0;e<=143;)Ba[2*e+1]=8,e++,i[8]++;for(;e<=255;)Ba[2*e+1]=9,e++,i[9]++;for(;e<=279;)Ba[2*e+1]=7,e++,i[7]++;for(;e<=287;)Ba[2*e+1]=8,e++,i[8]++;for(Ha(Ba,287,i),e=0;e<_a;e++)Aa[2*e+1]=5,Aa[2*e]=Ra(e,5);ja=new Ma(Ba,ga,257,wa,ba),Ea=new Ma(Aa,ka,0,_a,ba),Oa=new Ma(new Array(0),ma,0,19,7)}(),Xa=!0),e.l_desc=new qa(e.dyn_ltree,ja),e.d_desc=new qa(e.dyn_dtree,Ea),e.bl_desc=new qa(e.bl_tree,Oa),e.bi_buf=0,e.bi_valid=0,Fa(e)},_tr_stored_block:Ja,_tr_flush_block:Ya,_tr_tally:function(e,t,r){return e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(Ca[r]+ya+1)]++,e.dyn_dtree[2*Wa(t)]++),e.sym_next===e.sym_end},_tr_align:function(e){Pa(e,2,3),Ta(e,256,Ba),function(e){16===e.bi_valid?($a(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},Qa=function(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{i=i+(a=a+t[n++]|0)|0}while(--s);a%=65521,i%=65521}return a|i<<16|0},ei=new Uint32Array(function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}()),ti=function(e,t,r,n){var a=ei,i=n+r;e^=-1;for(var s=n;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e},ri={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ni={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ai=Va._tr_init,ii=Va._tr_stored_block,si=Va._tr_flush_block,oi=Va._tr_tally,ui=Va._tr_align,ci=ni.Z_NO_FLUSH,li=ni.Z_PARTIAL_FLUSH,hi=ni.Z_FULL_FLUSH,fi=ni.Z_FINISH,pi=ni.Z_BLOCK,di=ni.Z_OK,vi=ni.Z_STREAM_END,yi=ni.Z_STREAM_ERROR,wi=ni.Z_DATA_ERROR,_i=ni.Z_BUF_ERROR,bi=ni.Z_DEFAULT_COMPRESSION,gi=ni.Z_FILTERED,ki=ni.Z_HUFFMAN_ONLY,mi=ni.Z_RLE,xi=ni.Z_FIXED,Bi=ni.Z_DEFAULT_STRATEGY,Ai=ni.Z_UNKNOWN,Si=ni.Z_DEFLATED,Ci=258,zi=262,ji=42,Ei=113,Oi=666,Di=function(e,t){return e.msg=ri[t],t},Mi=function(e){return 2*e-(e>4?9:0)},qi=function(e){for(var t=e.length;--t>=0;)e[t]=0},Wi=function(e){var t,r,n,a=e.w_size;n=t=e.hash_size;do{r=e.head[--n],e.head[n]=r>=a?r-a:0}while(--t);n=t=a;do{r=e.prev[--n],e.prev[n]=r>=a?r-a:0}while(--t)},$i=function(e,t,r){return(t<<e.hash_shift^r)&e.hash_mask},Pi=function(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Ti=function(e,t){si(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Pi(e.strm)},Ri=function(e,t){e.pending_buf[e.pending++]=t},Hi=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Fi=function(e,t,r,n){var a=e.avail_in;return a>n&&(a=n),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),1===e.state.wrap?e.adler=Qa(e.adler,t,a,r):2===e.state.wrap&&(e.adler=ti(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},Ui=function(e,t){var r,n,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match,u=e.strstart>e.w_size-zi?e.strstart-(e.w_size-zi):0,c=e.window,l=e.w_mask,h=e.prev,f=e.strstart+Ci,p=c[i+s-1],d=c[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(r=t)+s]===d&&c[r+s-1]===p&&c[r]===c[i]&&c[++r]===c[i+1]){i+=2,r++;do{}while(c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&c[++i]===c[++r]&&i<f);if(n=Ci-(f-i),i=f-Ci,n>s){if(e.match_start=t,s=n,n>=o)break;p=c[i+s-1],d=c[i+s]}}}while((t=h[t&l])>u&&0!=--a);return s<=e.lookahead?s:e.lookahead},Li=function(e){var t,r,n,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-zi)&&(e.window.set(e.window.subarray(a,a+a-r),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,e.insert>e.strstart&&(e.insert=e.strstart),Wi(e),r+=a),0===e.strm.avail_in)break;if(t=Fi(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=$i(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=$i(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<zi&&0!==e.strm.avail_in)},Ii=function(e,t){var r,n,a,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r>(n=e.strstart-e.block_start)+e.strm.avail_in&&(r=n+e.strm.avail_in),r>a&&(r=a),r<i&&(0===r&&t!==fi||t===ci||r!==n+e.strm.avail_in))break;s=t===fi&&r===n+e.strm.avail_in?1:0,ii(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Pi(e.strm),n&&(n>r&&(n=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,r-=n),r&&(Fi(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===s);return(o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==ci&&t!==fi&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Fi(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,i=(a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a)>e.w_size?e.w_size:a,((n=e.strstart-e.block_start)>=i||(n||t===fi)&&t!==ci&&0===e.strm.avail_in&&n<=a)&&(r=n>a?a:n,s=t===fi&&0===e.strm.avail_in&&r===n?1:0,ii(e,e.block_start,r,s),e.block_start+=r,Pi(e.strm)),s?3:1)},Zi=function(e,t){for(var r,n;;){if(e.lookahead<zi){if(Li(e),e.lookahead<zi&&t===ci)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=$i(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-zi&&(e.match_length=Ui(e,r)),e.match_length>=3)if(n=oi(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=$i(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=$i(e,e.ins_h,e.window[e.strstart+1]);else n=oi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ti(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===fi?(Ti(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ti(e,!1),0===e.strm.avail_out)?1:2},Ni=function(e,t){for(var r,n,a;;){if(e.lookahead<zi){if(Li(e),e.lookahead<zi&&t===ci)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=$i(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-zi&&(e.match_length=Ui(e,r),e.match_length<=5&&(e.strategy===gi||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,n=oi(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=$i(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Ti(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=oi(e,0,e.window[e.strstart-1]))&&Ti(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=oi(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===fi?(Ti(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ti(e,!1),0===e.strm.avail_out)?1:2};function Gi(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}var Ki=[new Gi(0,0,0,0,Ii),new Gi(4,4,8,4,Zi),new Gi(4,5,16,8,Zi),new Gi(4,6,32,32,Zi),new Gi(4,4,16,16,Ni),new Gi(8,16,32,32,Ni),new Gi(8,16,128,128,Ni),new Gi(8,32,128,256,Ni),new Gi(32,128,258,1024,Ni),new Gi(32,258,258,4096,Ni)];function Xi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Si,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),qi(this.dyn_ltree),qi(this.dyn_dtree),qi(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),qi(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),qi(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ji=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.status!==ji&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Ei&&t.status!==Oi?1:0},Yi=function(e){if(Ji(e))return Di(e,yi);e.total_in=e.total_out=0,e.data_type=Ai;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?ji:Ei,e.adler=2===t.wrap?0:1,t.last_flush=-2,ai(t),di},Vi=function(e){var t,r=Yi(e);return r===di&&((t=e.state).window_size=2*t.w_size,qi(t.head),t.max_lazy_match=Ki[t.level].max_lazy,t.good_match=Ki[t.level].good_length,t.nice_match=Ki[t.level].nice_length,t.max_chain_length=Ki[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r},Qi=function(e,t,r,n,a,i){if(!e)return yi;var s=1;if(t===bi&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||r!==Si||n<8||n>15||t<0||t>9||i<0||i>xi||8===n&&1!==s)return Di(e,yi);8===n&&(n=9);var o=new Xi;return e.state=o,o.strm=e,o.status=ji,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=i,o.method=r,Vi(e)},es={deflateInit:function(e,t){return Qi(e,t,Si,15,8,Bi)},deflateInit2:Qi,deflateReset:Vi,deflateResetKeep:Yi,deflateSetHeader:function(e,t){return Ji(e)||2!==e.state.wrap?yi:(e.state.gzhead=t,di)},deflate:function(e,t){if(Ji(e)||t>pi||t<0)return e?Di(e,yi):yi;var r=e.state;if(!e.output||0!==e.avail_in&&!e.input||r.status===Oi&&t!==fi)return Di(e,0===e.avail_out?_i:yi);var n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(Pi(e),0===e.avail_out)return r.last_flush=-1,di}else if(0===e.avail_in&&Mi(t)<=Mi(n)&&t!==fi)return Di(e,_i);if(r.status===Oi&&0!==e.avail_in)return Di(e,_i);if(r.status===ji&&0===r.wrap&&(r.status=Ei),r.status===ji){var a=Si+(r.w_bits-8<<4)<<8;if(a|=(r.strategy>=ki||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),Hi(r,a+=31-a%31),0!==r.strstart&&(Hi(r,e.adler>>>16),Hi(r,65535&e.adler)),e.adler=1,r.status=Ei,Pi(e),0!==r.pending)return r.last_flush=-1,di}if(57===r.status)if(e.adler=0,Ri(r,31),Ri(r,139),Ri(r,8),r.gzhead)Ri(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ri(r,255&r.gzhead.time),Ri(r,r.gzhead.time>>8&255),Ri(r,r.gzhead.time>>16&255),Ri(r,r.gzhead.time>>24&255),Ri(r,9===r.level?2:r.strategy>=ki||r.level<2?4:0),Ri(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Ri(r,255&r.gzhead.extra.length),Ri(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ti(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(Ri(r,0),Ri(r,0),Ri(r,0),Ri(r,0),Ri(r,0),Ri(r,9===r.level?2:r.strategy>=ki||r.level<2?4:0),Ri(r,3),r.status=Ei,Pi(e),0!==r.pending)return r.last_flush=-1,di;if(69===r.status){if(r.gzhead.extra){for(var i=r.pending,s=(65535&r.gzhead.extra.length)-r.gzindex;r.pending+s>r.pending_buf_size;){var o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=ti(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Pi(e),0!==r.pending)return r.last_flush=-1,di;i=0,s-=o}var u=new Uint8Array(r.gzhead.extra);r.pending_buf.set(u.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=ti(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){var c,l=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>l&&(e.adler=ti(e.adler,r.pending_buf,r.pending-l,l)),Pi(e),0!==r.pending)return r.last_flush=-1,di;l=0}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Ri(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>l&&(e.adler=ti(e.adler,r.pending_buf,r.pending-l,l)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){var h,f=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>f&&(e.adler=ti(e.adler,r.pending_buf,r.pending-f,f)),Pi(e),0!==r.pending)return r.last_flush=-1,di;f=0}h=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Ri(r,h)}while(0!==h);r.gzhead.hcrc&&r.pending>f&&(e.adler=ti(e.adler,r.pending_buf,r.pending-f,f))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Pi(e),0!==r.pending))return r.last_flush=-1,di;Ri(r,255&e.adler),Ri(r,e.adler>>8&255),e.adler=0}if(r.status=Ei,Pi(e),0!==r.pending)return r.last_flush=-1,di}if(0!==e.avail_in||0!==r.lookahead||t!==ci&&r.status!==Oi){var p=0===r.level?Ii(r,t):r.strategy===ki?function(e,t){for(var r;;){if(0===e.lookahead&&(Li(e),0===e.lookahead)){if(t===ci)return 1;break}if(e.match_length=0,r=oi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ti(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===fi?(Ti(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ti(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===mi?function(e,t){for(var r,n,a,i,s=e.window;;){if(e.lookahead<=Ci){if(Li(e),e.lookahead<=Ci&&t===ci)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[a=e.strstart-1])===s[++a]&&n===s[++a]&&n===s[++a]){i=e.strstart+Ci;do{}while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<i);e.match_length=Ci-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=oi(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=oi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ti(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===fi?(Ti(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ti(e,!1),0===e.strm.avail_out)?1:2}(r,t):Ki[r.level].func(r,t);if(3!==p&&4!==p||(r.status=Oi),1===p||3===p)return 0===e.avail_out&&(r.last_flush=-1),di;if(2===p&&(t===li?ui(r):t!==pi&&(ii(r,0,0,!1),t===hi&&(qi(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Pi(e),0===e.avail_out))return r.last_flush=-1,di}return t!==fi?di:r.wrap<=0?vi:(2===r.wrap?(Ri(r,255&e.adler),Ri(r,e.adler>>8&255),Ri(r,e.adler>>16&255),Ri(r,e.adler>>24&255),Ri(r,255&e.total_in),Ri(r,e.total_in>>8&255),Ri(r,e.total_in>>16&255),Ri(r,e.total_in>>24&255)):(Hi(r,e.adler>>>16),Hi(r,65535&e.adler)),Pi(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?di:vi)},deflateEnd:function(e){if(Ji(e))return yi;var t=e.state.status;return e.state=null,t===Ei?Di(e,wi):di},deflateSetDictionary:function(e,t){var r=t.length;if(Ji(e))return yi;var n=e.state,a=n.wrap;if(2===a||1===a&&n.status!==ji||n.lookahead)return yi;if(1===a&&(e.adler=Qa(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===a&&(qi(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(t.subarray(r-n.w_size,r),0),t=i,r=n.w_size}var s=e.avail_in,o=e.next_in,u=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Li(n);n.lookahead>=3;){var c=n.strstart,l=n.lookahead-2;do{n.ins_h=$i(n,n.ins_h,n.window[c+3-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++}while(--l);n.strstart=c,n.lookahead=2,Li(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=u,e.avail_in=s,n.wrap=a,di},deflateInfo:"pako deflate (from Nodeca project)"},ts=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},rs=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==n(r))throw new TypeError(r+"must be non-object");for(var a in r)ts(r,a)&&(e[a]=r[a])}}return e},ns=function(e){for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var a=new Uint8Array(t),i=0,s=0,o=e.length;i<o;i++){var u=e[i];a.set(u,s),s+=u.length}return a},as=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(gp){as=!1}for(var is=new Uint8Array(256),ss=0;ss<256;ss++)is[ss]=ss>=252?6:ss>=248?5:ss>=240?4:ss>=224?3:ss>=192?2:1;is[254]=is[254]=1;var os=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,a,i,s=e.length,o=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t},us=function(e,t){var r,n,a=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var i=new Array(2*a);for(n=0,r=0;r<a;){var s=e[r++];if(s<128)i[n++]=s;else{var o=is[s];if(o>4)i[n++]=65533,r+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&r<a;)s=s<<6|63&e[r++],o--;o>1?i[n++]=65533:s<65536?i[n++]=s:(s-=65536,i[n++]=55296|s>>10&1023,i[n++]=56320|1023&s)}}}return function(e,t){if(t<65534&&e.subarray&&as)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}(i,n)},cs=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+is[e[r]]>t?r:t};var ls=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},hs=Object.prototype.toString,fs=ni.Z_NO_FLUSH,ps=ni.Z_SYNC_FLUSH,ds=ni.Z_FULL_FLUSH,vs=ni.Z_FINISH,ys=ni.Z_OK,ws=ni.Z_STREAM_END,_s=ni.Z_DEFAULT_COMPRESSION,bs=ni.Z_DEFAULT_STRATEGY,gs=ni.Z_DEFLATED;function ks(e){this.options=rs({level:_s,method:gs,chunkSize:16384,windowBits:15,memLevel:8,strategy:bs},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ls,this.strm.avail_out=0;var r=es.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==ys)throw new Error(ri[r]);if(t.header&&es.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"==typeof t.dictionary?os(t.dictionary):"[object ArrayBuffer]"===hs.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=es.deflateSetDictionary(this.strm,n))!==ys)throw new Error(ri[r]);this._dict_set=!0}}function ms(e,t){var r=new ks(t);if(r.push(e,!0),r.err)throw r.msg||ri[r.err];return r.result}ks.prototype.push=function(e,t){var r,n,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?vs:fs,"string"==typeof e?a.input=os(e):"[object ArrayBuffer]"===hs.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(n===ps||n===ds)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((r=es.deflate(a,n))===ws)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),r=es.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===ys;if(0!==a.avail_out){if(n>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},ks.prototype.onData=function(e){this.chunks.push(e)},ks.prototype.onEnd=function(e){e===ys&&(this.result=ns(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var xs=function(e,t){return(t=t||{}).raw=!0,ms(e,t)},Bs=function(e,t){return(t=t||{}).gzip=!0,ms(e,t)},As={Deflate:ks,deflate:ms,deflateRaw:xs,gzip:Bs,constants:ni},Ss=16209,Cs=function(e,t){var r,n,a,i,s,o,u,c,l,h,f,p,d,v,y,w,_,b,g,k,m,x,B,A,S=e.state;r=e.next_in,B=e.input,n=r+(e.avail_in-5),a=e.next_out,A=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=S.dmax,u=S.wsize,c=S.whave,l=S.wnext,h=S.window,f=S.hold,p=S.bits,d=S.lencode,v=S.distcode,y=(1<<S.lenbits)-1,w=(1<<S.distbits)-1;e:do{p<15&&(f+=B[r++]<<p,p+=8,f+=B[r++]<<p,p+=8),_=d[f&y];t:for(;;){if(f>>>=b=_>>>24,p-=b,0===(b=_>>>16&255))A[a++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=d[(65535&_)+(f&(1<<b)-1)];continue t}if(32&b){S.mode=16191;break e}e.msg="invalid literal/length code",S.mode=Ss;break e}g=65535&_,(b&=15)&&(p<b&&(f+=B[r++]<<p,p+=8),g+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=B[r++]<<p,p+=8,f+=B[r++]<<p,p+=8),_=v[f&w];r:for(;;){if(f>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=v[(65535&_)+(f&(1<<b)-1)];continue r}e.msg="invalid distance code",S.mode=Ss;break e}if(k=65535&_,p<(b&=15)&&(f+=B[r++]<<p,(p+=8)<b&&(f+=B[r++]<<p,p+=8)),(k+=f&(1<<b)-1)>o){e.msg="invalid distance too far back",S.mode=Ss;break e}if(f>>>=b,p-=b,k>(b=a-i)){if((b=k-b)>c&&S.sane){e.msg="invalid distance too far back",S.mode=Ss;break e}if(m=0,x=h,0===l){if(m+=u-b,b<g){g-=b;do{A[a++]=h[m++]}while(--b);m=a-k,x=A}}else if(l<b){if(m+=u+l-b,(b-=l)<g){g-=b;do{A[a++]=h[m++]}while(--b);if(m=0,l<g){g-=b=l;do{A[a++]=h[m++]}while(--b);m=a-k,x=A}}}else if(m+=l-b,b<g){g-=b;do{A[a++]=h[m++]}while(--b);m=a-k,x=A}for(;g>2;)A[a++]=x[m++],A[a++]=x[m++],A[a++]=x[m++],g-=3;g&&(A[a++]=x[m++],g>1&&(A[a++]=x[m++]))}else{m=a-k;do{A[a++]=A[m++],A[a++]=A[m++],A[a++]=A[m++],g-=3}while(g>2);g&&(A[a++]=A[m++],g>1&&(A[a++]=A[m++]))}break}}break}}while(r<n&&a<s);r-=g=p>>3,f&=(1<<(p-=g<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=a<s?s-a+257:257-(a-s),S.hold=f,S.bits=p},zs=15,js=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Es=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Os=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ds=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ms=function(e,t,r,n,a,i,s,o){var u,c,l,h,f,p,d,v,y,w=o.bits,_=0,b=0,g=0,k=0,m=0,x=0,B=0,A=0,S=0,C=0,z=null,j=new Uint16Array(16),E=new Uint16Array(16),O=null;for(_=0;_<=zs;_++)j[_]=0;for(b=0;b<n;b++)j[t[r+b]]++;for(m=w,k=zs;k>=1&&0===j[k];k--);if(m>k&&(m=k),0===k)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(g=1;g<k&&0===j[g];g++);for(m<g&&(m=g),A=1,_=1;_<=zs;_++)if(A<<=1,(A-=j[_])<0)return-1;if(A>0&&(0===e||1!==k))return-1;for(E[1]=0,_=1;_<zs;_++)E[_+1]=E[_]+j[_];for(b=0;b<n;b++)0!==t[r+b]&&(s[E[t[r+b]]++]=b);if(0===e?(z=O=s,p=20):1===e?(z=js,O=Es,p=257):(z=Os,O=Ds,p=0),C=0,b=0,_=g,f=i,x=m,B=0,l=-1,h=(S=1<<m)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){d=_-B,s[b]+1<p?(v=0,y=s[b]):s[b]>=p?(v=O[s[b]-p],y=z[s[b]-p]):(v=96,y=0),u=1<<_-B,g=c=1<<x;do{a[f+(C>>B)+(c-=u)]=d<<24|v<<16|y|0}while(0!==c);for(u=1<<_-1;C&u;)u>>=1;if(0!==u?(C&=u-1,C+=u):C=0,b++,0==--j[_]){if(_===k)break;_=t[r+s[b]]}if(_>m&&(C&h)!==l){for(0===B&&(B=m),f+=g,A=1<<(x=_-B);x+B<k&&!((A-=j[x+B])<=0);)x++,A<<=1;if(S+=1<<x,1===e&&S>852||2===e&&S>592)return 1;a[l=C&h]=m<<24|x<<16|f-i|0}}return 0!==C&&(a[f+C]=_-B<<24|64<<16|0),o.bits=m,0},qs=ni.Z_FINISH,Ws=ni.Z_BLOCK,$s=ni.Z_TREES,Ps=ni.Z_OK,Ts=ni.Z_STREAM_END,Rs=ni.Z_NEED_DICT,Hs=ni.Z_STREAM_ERROR,Fs=ni.Z_DATA_ERROR,Us=ni.Z_MEM_ERROR,Ls=ni.Z_BUF_ERROR,Is=ni.Z_DEFLATED,Zs=16180,Ns=16190,Gs=16191,Ks=16192,Xs=16194,Js=16199,Ys=16200,Vs=16206,Qs=16209,eo=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function to(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var ro,no,ao=function(e){if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.mode<Zs||t.mode>16211?1:0},io=function(e){if(ao(e))return Hs;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Zs,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Ps},so=function(e){if(ao(e))return Hs;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,io(e)},oo=function(e,t){var r;if(ao(e))return Hs;var n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Hs:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,so(e))},uo=function(e,t){if(!e)return Hs;var r=new to;e.state=r,r.strm=e,r.window=null,r.mode=Zs;var n=oo(e,t);return n!==Ps&&(e.state=null),n},co=!0,lo=function(e){if(co){ro=new Int32Array(512),no=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ms(1,e.lens,0,288,ro,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ms(2,e.lens,0,32,no,0,e.work,{bits:5}),co=!1}e.lencode=ro,e.lenbits=9,e.distcode=no,e.distbits=5},ho=function(e,t,r,n){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),(n-=a)?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},fo={inflateReset:so,inflateReset2:oo,inflateResetKeep:io,inflateInit:function(e){return uo(e,15)},inflateInit2:uo,inflate:function(e,t){var r,n,a,i,s,o,u,c,l,h,f,p,d,v,y,w,_,b,g,k,m,x,B,A,S=0,C=new Uint8Array(4),z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ao(e)||!e.output||!e.input&&0!==e.avail_in)return Hs;(r=e.state).mode===Gs&&(r.mode=Ks),s=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,l=r.bits,h=o,f=u,x=Ps;e:for(;;)switch(r.mode){case Zs:if(0===r.wrap){r.mode=Ks;break}for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,C[0]=255&c,C[1]=c>>>8&255,r.check=ti(r.check,C,2,0),c=0,l=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Qs;break}if((15&c)!==Is){e.msg="unknown compression method",r.mode=Qs;break}if(l-=4,m=8+(15&(c>>>=4)),0===r.wbits&&(r.wbits=m),m>15||m>r.wbits){e.msg="invalid window size",r.mode=Qs;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&c?16189:Gs,c=0,l=0;break;case 16181:for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(r.flags=c,(255&r.flags)!==Is){e.msg="unknown compression method",r.mode=Qs;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Qs;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(C[0]=255&c,C[1]=c>>>8&255,r.check=ti(r.check,C,2,0)),c=0,l=0,r.mode=16182;case 16182:for(;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(C[0]=255&c,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,r.check=ti(r.check,C,4,0)),c=0,l=0,r.mode=16183;case 16183:for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(C[0]=255&c,C[1]=c>>>8&255,r.check=ti(r.check,C,2,0)),c=0,l=0,r.mode=16184;case 16184:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(C[0]=255&c,C[1]=c>>>8&255,r.check=ti(r.check,C,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((p=r.length)>o&&(p=o),p&&(r.head&&(m=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),m)),512&r.flags&&4&r.wrap&&(r.check=ti(r.check,n,p,i)),o-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;p=0;do{m=n[i+p++],r.head&&m&&r.length<65536&&(r.head.name+=String.fromCharCode(m))}while(m&&p<o);if(512&r.flags&&4&r.wrap&&(r.check=ti(r.check,n,p,i)),o-=p,i+=p,m)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;p=0;do{m=n[i+p++],r.head&&m&&r.length<65536&&(r.head.comment+=String.fromCharCode(m))}while(m&&p<o);if(512&r.flags&&4&r.wrap&&(r.check=ti(r.check,n,p,i)),o-=p,i+=p,m)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(4&r.wrap&&c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Qs;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Gs;break;case 16189:for(;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}e.adler=r.check=eo(c),c=0,l=0,r.mode=Ns;case Ns:if(0===r.havedict)return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=l,Rs;e.adler=r.check=1,r.mode=Gs;case Gs:if(t===Ws||t===$s)break e;case Ks:if(r.last){c>>>=7&l,l-=7&l,r.mode=Vs;break}for(;l<3;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}switch(r.last=1&c,l-=1,3&(c>>>=1)){case 0:r.mode=16193;break;case 1:if(lo(r),r.mode=Js,t===$s){c>>>=2,l-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=Qs}c>>>=2,l-=2;break;case 16193:for(c>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Qs;break}if(r.length=65535&c,c=0,l=0,r.mode=Xs,t===$s)break e;case Xs:r.mode=16195;case 16195:if(p=r.length){if(p>o&&(p=o),p>u&&(p=u),0===p)break e;a.set(n.subarray(i,i+p),s),o-=p,i+=p,u-=p,s+=p,r.length-=p;break}r.mode=Gs;break;case 16196:for(;l<14;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Qs;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.lens[z[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},x=Ms(0,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,x){e.msg="invalid code lengths set",r.mode=Qs;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;w=(S=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,_=65535&S,!((y=S>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(_<16)c>>>=y,l-=y,r.lens[r.have++]=_;else{if(16===_){for(A=y+2;l<A;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(c>>>=y,l-=y,0===r.have){e.msg="invalid bit length repeat",r.mode=Qs;break}m=r.lens[r.have-1],p=3+(3&c),c>>>=2,l-=2}else if(17===_){for(A=y+3;l<A;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}l-=y,m=0,p=3+(7&(c>>>=y)),c>>>=3,l-=3}else{for(A=y+7;l<A;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}l-=y,m=0,p=11+(127&(c>>>=y)),c>>>=7,l-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Qs;break}for(;p--;)r.lens[r.have++]=m}}if(r.mode===Qs)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Qs;break}if(r.lenbits=9,B={bits:r.lenbits},x=Ms(1,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,x){e.msg="invalid literal/lengths set",r.mode=Qs;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},x=Ms(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,x){e.msg="invalid distances set",r.mode=Qs;break}if(r.mode=Js,t===$s)break e;case Js:r.mode=Ys;case Ys:if(o>=6&&u>=258){e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=l,Cs(e,f),s=e.next_out,a=e.output,u=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,l=r.bits,r.mode===Gs&&(r.back=-1);break}for(r.back=0;w=(S=r.lencode[c&(1<<r.lenbits)-1])>>>16&255,_=65535&S,!((y=S>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(w&&0==(240&w)){for(b=y,g=w,k=_;w=(S=r.lencode[k+((c&(1<<b+g)-1)>>b)])>>>16&255,_=65535&S,!(b+(y=S>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}c>>>=b,l-=b,r.back+=b}if(c>>>=y,l-=y,r.back+=y,r.length=_,0===w){r.mode=16205;break}if(32&w){r.back=-1,r.mode=Gs;break}if(64&w){e.msg="invalid literal/length code",r.mode=Qs;break}r.extra=15&w,r.mode=16201;case 16201:if(r.extra){for(A=r.extra;l<A;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;w=(S=r.distcode[c&(1<<r.distbits)-1])>>>16&255,_=65535&S,!((y=S>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(0==(240&w)){for(b=y,g=w,k=_;w=(S=r.distcode[k+((c&(1<<b+g)-1)>>b)])>>>16&255,_=65535&S,!(b+(y=S>>>24)<=l);){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}c>>>=b,l-=b,r.back+=b}if(c>>>=y,l-=y,r.back+=y,64&w){e.msg="invalid distance code",r.mode=Qs;break}r.offset=_,r.extra=15&w,r.mode=16203;case 16203:if(r.extra){for(A=r.extra;l<A;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Qs;break}r.mode=16204;case 16204:if(0===u)break e;if(p=f-u,r.offset>p){if((p=r.offset-p)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Qs;break}p>r.wnext?(p-=r.wnext,d=r.wsize-p):d=r.wnext-p,p>r.length&&(p=r.length),v=r.window}else v=a,d=s-r.offset,p=r.length;p>u&&(p=u),u-=p,r.length-=p;do{a[s++]=v[d++]}while(--p);0===r.length&&(r.mode=Ys);break;case 16205:if(0===u)break e;a[s++]=r.length,u--,r.mode=Ys;break;case Vs:if(r.wrap){for(;l<32;){if(0===o)break e;o--,c|=n[i++]<<l,l+=8}if(f-=u,e.total_out+=f,r.total+=f,4&r.wrap&&f&&(e.adler=r.check=r.flags?ti(r.check,a,f,s-f):Qa(r.check,a,f,s-f)),f=u,4&r.wrap&&(r.flags?c:eo(c))!==r.check){e.msg="incorrect data check",r.mode=Qs;break}c=0,l=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,c+=n[i++]<<l,l+=8}if(4&r.wrap&&c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Qs;break}c=0,l=0}r.mode=16208;case 16208:x=Ts;break e;case Qs:x=Fs;break e;case 16210:return Us;default:return Hs}return e.next_out=s,e.avail_out=u,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=l,(r.wsize||f!==e.avail_out&&r.mode<Qs&&(r.mode<Vs||t!==qs))&&ho(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,4&r.wrap&&f&&(e.adler=r.check=r.flags?ti(r.check,a,f,e.next_out-f):Qa(r.check,a,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Gs?128:0)+(r.mode===Js||r.mode===Xs?256:0),(0===h&&0===f||t===qs)&&x===Ps&&(x=Ls),x},inflateEnd:function(e){if(ao(e))return Hs;var t=e.state;return t.window&&(t.window=null),e.state=null,Ps},inflateGetHeader:function(e,t){if(ao(e))return Hs;var r=e.state;return 0==(2&r.wrap)?Hs:(r.head=t,t.done=!1,Ps)},inflateSetDictionary:function(e,t){var r,n=t.length;return ao(e)||0!==(r=e.state).wrap&&r.mode!==Ns?Hs:r.mode===Ns&&Qa(1,t,n,0)!==r.check?Fs:ho(e,t,n,n)?(r.mode=16210,Us):(r.havedict=1,Ps)},inflateInfo:"pako inflate (from Nodeca project)"};var po=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},vo=Object.prototype.toString,yo=ni.Z_NO_FLUSH,wo=ni.Z_FINISH,_o=ni.Z_OK,bo=ni.Z_STREAM_END,go=ni.Z_NEED_DICT,ko=ni.Z_STREAM_ERROR,mo=ni.Z_DATA_ERROR,xo=ni.Z_MEM_ERROR;function Bo(e){this.options=rs({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ls,this.strm.avail_out=0;var r=fo.inflateInit2(this.strm,t.windowBits);if(r!==_o)throw new Error(ri[r]);if(this.header=new po,fo.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=os(t.dictionary):"[object ArrayBuffer]"===vo.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=fo.inflateSetDictionary(this.strm,t.dictionary))!==_o))throw new Error(ri[r])}function Ao(e,t){var r=new Bo(t);if(r.push(e),r.err)throw r.msg||ri[r.err];return r.result}Bo.prototype.push=function(e,t){var r,n,a,i=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?wo:yo,"[object ArrayBuffer]"===vo.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(r=fo.inflate(i,n))===go&&o&&((r=fo.inflateSetDictionary(i,o))===_o?r=fo.inflate(i,n):r===mo&&(r=go));i.avail_in>0&&r===bo&&i.state.wrap>0&&0!==e[i.next_in];)fo.inflateReset(i),r=fo.inflate(i,n);switch(r){case ko:case mo:case go:case xo:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||r===bo))if("string"===this.options.to){var u=cs(i.output,i.next_out),c=i.next_out-u,l=us(i.output,u);i.next_out=c,i.avail_out=s-c,c&&i.output.set(i.output.subarray(u,u+c),0),this.onData(l)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==_o||0!==a){if(r===bo)return r=fo.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},Bo.prototype.onData=function(e){this.chunks.push(e)},Bo.prototype.onEnd=function(e){e===_o&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ns(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var So,Co=function(e,t){return(t=t||{}).raw=!0,Ao(e,t)},zo={Inflate:Bo,inflate:Ao,inflateRaw:Co,ungzip:Ao,constants:ni},jo={Deflate:As.Deflate,deflate:As.deflate,deflateRaw:As.deflateRaw,gzip:As.gzip,Inflate:zo.Inflate,inflate:zo.inflate,inflateRaw:zo.inflateRaw,ungzip:zo.ungzip,constants:ni},Eo=new Uint8Array(16);function Oo(){if(!So&&!(So="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return So(Eo)}var Do=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Mo(e){return"string"==typeof e&&Do.test(e)}for(var qo=[],Wo=0;Wo<256;++Wo)qo.push((Wo+256).toString(16).substr(1));function $o(e,t,r){var n=(e=e||{}).random||(e.rng||Oo)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(qo[e[t+0]]+qo[e[t+1]]+qo[e[t+2]]+qo[e[t+3]]+"-"+qo[e[t+4]]+qo[e[t+5]]+"-"+qo[e[t+6]]+qo[e[t+7]]+"-"+qo[e[t+8]]+qo[e[t+9]]+"-"+qo[e[t+10]]+qo[e[t+11]]+qo[e[t+12]]+qo[e[t+13]]+qo[e[t+14]]+qo[e[t+15]]).toLowerCase();if(!Mo(r))throw TypeError("Stringified UUID is invalid");return r}(n)}var Po=new WeakMap,To=new WeakMap,Ro=new WeakMap,Ho=new WeakMap,Fo=new WeakMap,Uo=new WeakMap,Lo=new WeakMap,Io=new WeakMap,Zo=new WeakMap,No=new WeakMap,Go=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,Yo=new WeakMap,Vo=new WeakMap,Qo=new WeakMap,eu=new WeakMap,tu=new WeakMap,ru=new WeakMap,nu=new WeakMap,au=new WeakSet,iu=new WeakSet,su=new WeakSet,ou=new WeakSet,uu=new WeakSet,cu=new WeakSet,lu=new WeakSet,hu=new WeakSet,fu=new WeakSet,pu=new WeakMap,du=new WeakMap,vu=new WeakMap,yu=function(e){v(l,e);var t,r,n,a,i,s,o,u,c=w(l);function l(e,t,r){var n,a=r.connect,i=r.boardcast,s=r.message;return S(this,l),k(b(n=c.call(this,e,t)),fu),k(b(n),hu),k(b(n),lu),k(b(n),cu),k(b(n),uu),k(b(n),ou),k(b(n),su),k(b(n),iu),k(b(n),au),j(b(n),nu,{get:_u,set:void 0}),j(b(n),ru,{get:wu,set:void 0}),j(b(n),Po,{writable:!0,value:0}),j(b(n),To,{writable:!0,value:1}),j(b(n),Ro,{writable:!0,value:2}),j(b(n),Ho,{writable:!0,value:3}),j(b(n),Fo,{writable:!0,value:4}),j(b(n),Uo,{writable:!0,value:5}),j(b(n),Lo,{writable:!0,value:8}),j(b(n),Io,{writable:!0,value:9}),j(b(n),Zo,{writable:!0,value:void 0}),j(b(n),No,{writable:!0,value:void 0}),j(b(n),Go,{writable:!0,value:void 0}),j(b(n),Ko,{writable:!0,value:void 0}),j(b(n),Xo,{writable:!0,value:null}),j(b(n),Jo,{writable:!0,value:new Map}),j(b(n),Yo,{writable:!0,value:NaN}),j(b(n),Vo,{writable:!0,value:NaN}),j(b(n),Qo,{writable:!0,value:0}),j(b(n),eu,{writable:!0,value:void 0}),j(b(n),tu,{writable:!0,value:void 0}),j(b(n),pu,{writable:!0,value:0}),j(b(n),du,{writable:!0,value:1}),j(b(n),vu,{writable:!0,value:2}),D(b(n),eu,a),O(b(n),Jo).set(O(b(n),Ho),i),O(b(n),Jo).set(O(b(n),Ro),s),n}return z(l,[{key:"online",get:function(){return O(this,Yo)}},{key:"delay",get:function(){return O(this,Vo)}},{key:"initialize",value:(u=A(x().mark((function e(){var t,r,n,a,i,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.$configure,r=t.protocol,n=void 0===r?"ws":r,a=t.host,i=t.port,s=t.finger,D(this,No,n),D(this,Go,a),D(this,Ko,i),D(this,Zo,s);case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"start",value:(o=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(this,iu,ku).call(this));case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"command",value:(s=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("[Session|>>>>] [command:%s] data:",t,r),e.abrupt("return",m(this,fu,Mu).call(this,m(this,hu,Du).call(this),t,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"ping",value:(i=A(x().mark((function e(){var t,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O(this,Xo)||!O(this,ru)){e.next=3;break}return D(this,Qo,Date.now()),e.abrupt("return",m(this,lu,Eu).call(this));case 3:return t=this.delay,r=this.online,e.abrupt("return",{delay:t,online:r});case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"authenticate",value:(a=A(x().mark((function e(t,r){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$db.gsync(t);case 2:return n=e.sent,e.abrupt("return",m(this,fu,Mu).call(this,O(this,Lo),O(this,du),t,r,n).then((function(e){return e.data||null})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"register",value:(n=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(this,fu,Mu).call(this,O(this,Lo),O(this,pu),t,r).then((function(e){return e.data||null})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"guest",value:(r=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(this,fu,Mu).call(this,O(this,Lo),O(this,vu)).then((function(e){return e.data||null})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"logout",value:(t=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(this,fu,Mu).call(this,O(this,Io)).then((function(e){return e.success})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),l}(l);function wu(){return Date.now()-O(this,Qo)>6e4}function _u(){return O(this,Go)?O(this,Ko)?"".concat(O(this,No),"://").concat(O(this,Go),":").concat(O(this,Ko)):"".concat(O(this,No),"://").concat(O(this,Go)):"".concat(O(this,No),"://").concat(globalThis.location.host)}function bu(e){return gu.apply(this,arguments)}function gu(){return gu=A(x().mark((function e(t){var r=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new WebSocket(O(r,nu)),i=function(e){return a.send(JSON.stringify(t))},s=function(){var t=A(x().mark((function t(n){var i,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((i=n.data)instanceof Blob)){t.next=6;break}return t.next=4,i.arrayBuffer();case 4:s=t.sent,i=jo.inflate(s,{to:"string"});case 6:if(i=JSON.parse(i),D(r,Yo,i.pop()),!e){t.next=13;break}return D(r,Xo,a),e({ws:a,data:i}),e=null,t.abrupt("return");case 13:m(r,ou,Au).call(r,i);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(e){var t=e.code,n=e.reason;return m(r,uu,Cu).call(r,t,n)};a.addEventListener("error",(function e(t){a.removeEventListener("error",e),a.removeEventListener("open",i),a.removeEventListener("message",s),a.removeEventListener("close",o),a.close(),n(t)})),a.addEventListener("open",i),a.addEventListener("message",s),a.addEventListener("close",o)})));case 1:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(){return mu.apply(this,arguments)}function mu(){return(mu=A(x().mark((function e(){var t=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(this,au,bu).call(this,[O(this,Fo),O(this,Zo)]).then((function(e){var r=s(e.data,3),n=r[1],a=r[2];return console.debug("[Session|conn] [sid:%s] info:",a,n),D(t,tu,a),O(t,eu).call(t,n),!0})));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function xu(){return Bu.apply(this,arguments)}function Bu(){return(Bu=A(x().mark((function e(){var t=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(this,tu)){e.next=2;break}return e.abrupt("return",m(this,iu,ku).call(this));case 2:return console.debug("[Session|resume] trying [sid:%s]",O(this,tu)),e.abrupt("return",m(this,au,bu).call(this,[O(this,Uo),O(this,tu),this.$user.uuid,O(this,Zo)]).then((function(e){var r=s(e.data,3),n=r[1],a=r[2];return console.debug("[Session|resume] resumed [sid:%s] [success:%s]",a,n),D(t,tu,a),[!0,n]})).catch((function(e){return console.debug("[Session|resume] faild."),[!1]})));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Au(e){return Su.apply(this,arguments)}function Su(){return(Su=A(x().mark((function e(t){var r,n,a,i,o,u=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s(t,3),n=r[0],a=r[1],i=r[2],e.next=3,this.$core.attach(i);case 3:console.debug("[Session|<<<<] [guid:%s]",n,a,i),o=function(e){O(u,Jo).has(e)&&(O(u,Jo).get(e)(null,a),O(u,Jo).delete(e))},e.t0=n,e.next=e.t0===O(this,Po)?8:e.t0===O(this,To)?10:e.t0===O(this,Ro)||e.t0===O(this,Ho)?12:14;break;case 8:return m(this,cu,zu).call(this,[O(this,To)]),e.abrupt("break",16);case 10:return o(O(this,Po)),e.abrupt("break",16);case 12:return O(this,Jo).get(n)(a),e.abrupt("break",16);case 14:return o(n),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Cu(e,t){var r=this;switch(D(this,Xo,null),e){case 3e3:case 3001:return $emit("network.kick"),void console.debug("[Session|clse] [code:%d] [reason:%s]",e,t);case 3002:return this.$db.kv.set("banned",Date.now()+18e5),void $emit("network.banned");case 3003:return this.$db.kv.set("banned",1/0),void $emit("network.banned")}var n=new Set([O(this,Ro),O(this,Ho)]);$emit("network.error");var a=new Error("Network Error");O(this,Jo).forEach((function(e,t){n.has(t)||(O(r,Jo).delete(t),e(a))}));!function e(){return m(r,su,xu).call(r).then((function(t){var r=s(t,2),n=r[0],a=r[1];if(n)return $emit("network.resume",a);e()}))}()}function zu(e){return ju.apply(this,arguments)}function ju(){return ju=A(x().mark((function e(t){var r,n,a,i=this,s=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=s.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=s[a];if(O(this,Xo)){e.next=3;break}throw new Error("Network Error");case 3:e.t0=t,e.next=e.t0===O(this,To)?6:e.t0===O(this,Po)?8:9;break;case 6:return O(this,Xo).send(JSON.stringify([t].concat(n))),e.abrupt("return",!0);case 8:return e.abrupt("break",11);case 9:if(!O(this,Jo).has(t)){e.next=11;break}throw new Error("Duplicate id");case 11:return e.abrupt("return",new Promise((function(e,r){O(i,Jo).set(t,(function(t,n){if(t)return r(t);e(n)})),O(i,Xo).send(JSON.stringify([t].concat(n)))})));case 12:case"end":return e.stop()}}),e,this)}))),ju.apply(this,arguments)}function Eu(){return Ou.apply(this,arguments)}function Ou(){return(Ou=A(x().mark((function e(){var t,r,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("[Session|ping] ping..."),t=Date.now(),e.next=4,m(this,cu,zu).call(this,O(this,Po));case 4:return r=Date.now()-t,D(this,Vo,r),n=O(this,Yo),console.debug("[Session|ping] [delay:%dms] [online:%d]",r,n),e.abrupt("return",{delay:r,online:n});case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Du(){for(var e=$o(),t=e.length,r=1;r<=t;r++){var n=e.substring(0,r);if(!O(this,Jo).has(n))return n}}function Mu(){return qu.apply(this,arguments)}function qu(){return qu=A(x().mark((function e(){var t,r,n,a,i,o,u,c,l=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=l.length,n=new Array(r),a=0;a<r;a++)n[a]=l[a];return e.next=4,(t=m(this,cu,zu)).call.apply(t,[this].concat(n));case 4:return i=e.sent,o=s(i,2),u=o[0],c=o[1],u&&(console.debug("Command error:",u),$emit("command.error",u)),e.abrupt("return",{success:void 0!==u&&!u,code:u,data:c});case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),$emit("command.error",-1),e.abrupt("return",{success:!1,code:-1});case 17:case"end":return e.stop()}}),e,this,[[0,12]])}))),qu.apply(this,arguments)}var Wu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function $u(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var Pu={exports:{}};var Tu,Ru={exports:{}},Hu=$u(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));function Fu(){return Tu||(Tu=1,function(e,t){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==Wu&&Wu.crypto&&(r=Wu.crypto),!r)try{r=Hu}catch(Di){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(Di){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(Di){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),i={},s=i.lib={},o=s.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=o.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<a;i++){var s=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=s<<24-(n+i)%4*8}else for(var o=0;o<a;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=a,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new u.init(t,e)}}),c=i.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},h=c.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,a=n.words,i=n.sigBytes,s=this.blockSize,o=i/(4*s),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*s,l=e.min(4*c,i);if(c){for(var h=0;h<c;h+=s)this._doProcessBlock(a,h);r=a.splice(0,c),n.sigBytes-=l}return new u.init(r,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}});var d=i.algo={};return i}(Math),r)}(Ru)),Ru.exports}var Uu,Lu={exports:{}};function Iu(){return Uu||(Uu=1,function(e,t){var r;e.exports=(r=Fu(),function(e){var t=r,n=t.lib,a=n.Base,i=n.WordArray,s=t.x64={};s.Word=a.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=a.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:8*t.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var a=e[n];r.push(a.high),r.push(a.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=a.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}})}(),r)}(Lu)),Lu.exports}var Zu,Nu={exports:{}};function Gu(){return Zu||(Zu=1,function(e,t){var r;e.exports=(r=Fu(),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],a=0;a<r;a++)n[a>>>2]|=e[a]<<24-a%4*8;t.call(this,n,r)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)}(Nu)),Nu.exports}var Ku,Xu={exports:{}};function Ju(){return Ku||(Ku=1,function(e,t){var r;e.exports=(r=Fu(),function(){var e=r,t=e.lib.WordArray,n=e.enc;function a(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a+=2){var i=t[a>>>2]>>>16-a%4*8&65535;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var r=e.length,n=[],a=0;a<r;a++)n[a>>>1]|=e.charCodeAt(a)<<16-a%2*16;return t.create(n,2*r)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=a(t[i>>>2]>>>16-i%4*8&65535);n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=a(e.charCodeAt(i)<<16-i%2*16);return t.create(n,2*r)}}}(),r.enc.Utf16)}(Xu)),Xu.exports}var Yu,Vu={exports:{}};function Qu(){return Yu||(Yu=1,function(e,t){var r;e.exports=(r=Fu(),function(){var e=r,t=e.lib.WordArray;function n(e,r,n){for(var a=[],i=0,s=0;s<r;s++)if(s%4){var o=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;a[i>>>2]|=o<<24-i%4*8,i++}return t.create(a,i)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;o<4&&i+.75*o<r;o++)a.push(n.charAt(s>>>6*(3-o)&63));var u=n.charAt(64);if(u)for(;a.length%4;)a.push(u);return a.join("")},parse:function(e){var t=e.length,r=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var i=0;i<r.length;i++)a[r.charCodeAt(i)]=i}var s=r.charAt(64);if(s){var o=e.indexOf(s);-1!==o&&(t=o)}return n(e,t,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)}(Vu)),Vu.exports}var ec,tc={exports:{}};function rc(){return ec||(ec=1,function(e,t){var r;e.exports=(r=Fu(),function(){var e=r,t=e.lib.WordArray;function n(e,r,n){for(var a=[],i=0,s=0;s<r;s++)if(s%4){var o=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;a[i>>>2]|=o<<24-i%4*8,i++}return t.create(a,i)}e.enc.Base64url={stringify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.words,n=e.sigBytes,a=t?this._safe_map:this._map;e.clamp();for(var i=[],s=0;s<n;s+=3)for(var o=(r[s>>>2]>>>24-s%4*8&255)<<16|(r[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|r[s+2>>>2]>>>24-(s+2)%4*8&255,u=0;u<4&&s+.75*u<n;u++)i.push(a.charAt(o>>>6*(3-u)&63));var c=a.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.length,a=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<a.length;s++)i[a.charCodeAt(s)]=s}var o=a.charAt(64);if(o){var u=e.indexOf(o);-1!==u&&(r=u)}return n(e,r,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),r.enc.Base64url)}(tc)),tc.exports}var nc,ac={exports:{}};function ic(){return nc||(nc=1,function(e,t){var r;e.exports=(r=Fu(),function(e){var t=r,n=t.lib,a=n.WordArray,i=n.Hasher,s=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=s.MD5=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i=this._hash.words,s=e[t+0],u=e[t+1],p=e[t+2],d=e[t+3],v=e[t+4],y=e[t+5],w=e[t+6],_=e[t+7],b=e[t+8],g=e[t+9],k=e[t+10],m=e[t+11],x=e[t+12],B=e[t+13],A=e[t+14],S=e[t+15],C=i[0],z=i[1],j=i[2],E=i[3];C=c(C,z,j,E,s,7,o[0]),E=c(E,C,z,j,u,12,o[1]),j=c(j,E,C,z,p,17,o[2]),z=c(z,j,E,C,d,22,o[3]),C=c(C,z,j,E,v,7,o[4]),E=c(E,C,z,j,y,12,o[5]),j=c(j,E,C,z,w,17,o[6]),z=c(z,j,E,C,_,22,o[7]),C=c(C,z,j,E,b,7,o[8]),E=c(E,C,z,j,g,12,o[9]),j=c(j,E,C,z,k,17,o[10]),z=c(z,j,E,C,m,22,o[11]),C=c(C,z,j,E,x,7,o[12]),E=c(E,C,z,j,B,12,o[13]),j=c(j,E,C,z,A,17,o[14]),C=l(C,z=c(z,j,E,C,S,22,o[15]),j,E,u,5,o[16]),E=l(E,C,z,j,w,9,o[17]),j=l(j,E,C,z,m,14,o[18]),z=l(z,j,E,C,s,20,o[19]),C=l(C,z,j,E,y,5,o[20]),E=l(E,C,z,j,k,9,o[21]),j=l(j,E,C,z,S,14,o[22]),z=l(z,j,E,C,v,20,o[23]),C=l(C,z,j,E,g,5,o[24]),E=l(E,C,z,j,A,9,o[25]),j=l(j,E,C,z,d,14,o[26]),z=l(z,j,E,C,b,20,o[27]),C=l(C,z,j,E,B,5,o[28]),E=l(E,C,z,j,p,9,o[29]),j=l(j,E,C,z,_,14,o[30]),C=h(C,z=l(z,j,E,C,x,20,o[31]),j,E,y,4,o[32]),E=h(E,C,z,j,b,11,o[33]),j=h(j,E,C,z,m,16,o[34]),z=h(z,j,E,C,A,23,o[35]),C=h(C,z,j,E,u,4,o[36]),E=h(E,C,z,j,v,11,o[37]),j=h(j,E,C,z,_,16,o[38]),z=h(z,j,E,C,k,23,o[39]),C=h(C,z,j,E,B,4,o[40]),E=h(E,C,z,j,s,11,o[41]),j=h(j,E,C,z,d,16,o[42]),z=h(z,j,E,C,w,23,o[43]),C=h(C,z,j,E,g,4,o[44]),E=h(E,C,z,j,x,11,o[45]),j=h(j,E,C,z,S,16,o[46]),C=f(C,z=h(z,j,E,C,p,23,o[47]),j,E,s,6,o[48]),E=f(E,C,z,j,_,10,o[49]),j=f(j,E,C,z,A,15,o[50]),z=f(z,j,E,C,y,21,o[51]),C=f(C,z,j,E,x,6,o[52]),E=f(E,C,z,j,d,10,o[53]),j=f(j,E,C,z,k,15,o[54]),z=f(z,j,E,C,u,21,o[55]),C=f(C,z,j,E,b,6,o[56]),E=f(E,C,z,j,S,10,o[57]),j=f(j,E,C,z,w,15,o[58]),z=f(z,j,E,C,B,21,o[59]),C=f(C,z,j,E,v,6,o[60]),E=f(E,C,z,j,m,10,o[61]),j=f(j,E,C,z,p,15,o[62]),z=f(z,j,E,C,g,21,o[63]),i[0]=i[0]+C|0,i[1]=i[1]+z|0,i[2]=i[2]+j|0,i[3]=i[3]+E|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;r[a>>>5]|=128<<24-a%32;var i=e.floor(n/4294967296),s=n;r[15+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(a+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(r.length+1),this._process();for(var o=this._hash,u=o.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,a,i,s){var o=e+(t&r|~t&n)+a+s;return(o<<i|o>>>32-i)+t}function l(e,t,r,n,a,i,s){var o=e+(t&n|r&~n)+a+s;return(o<<i|o>>>32-i)+t}function h(e,t,r,n,a,i,s){var o=e+(t^r^n)+a+s;return(o<<i|o>>>32-i)+t}function f(e,t,r,n,a,i,s){var o=e+(r^(t|~n))+a+s;return(o<<i|o>>>32-i)+t}t.MD5=i._createHelper(u),t.HmacMD5=i._createHmacHelper(u)}(Math),r.MD5)}(ac)),ac.exports}var sc,oc={exports:{}};function uc(){return sc||(sc=1,function(e,t){var r,n,a,i,s,o,u,c;e.exports=(c=Fu(),n=(r=c).lib,a=n.WordArray,i=n.Hasher,s=r.algo,o=[],u=s.SHA1=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],s=r[3],u=r[4],c=0;c<80;c++){if(c<16)o[c]=0|e[t+c];else{var l=o[c-3]^o[c-8]^o[c-14]^o[c-16];o[c]=l<<1|l>>>31}var h=(n<<5|n>>>27)+u+o[c];h+=c<20?1518500249+(a&i|~a&s):c<40?1859775393+(a^i^s):c<60?(a&i|a&s|i&s)-1894007588:(a^i^s)-899497514,u=s,s=i,i=a<<30|a>>>2,a=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=i._createHelper(u),r.HmacSHA1=i._createHmacHelper(u),c.SHA1)}(oc)),oc.exports}var cc,lc={exports:{}};function hc(){return cc||(cc=1,function(e,t){var r;e.exports=(r=Fu(),function(e){var t=r,n=t.lib,a=n.WordArray,i=n.Hasher,s=t.algo,o=[],u=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,a=0;a<64;)t(n)&&(a<8&&(o[a]=r(e.pow(n,.5))),u[a]=r(e.pow(n,1/3)),a++),n++}();var c=[],l=s.SHA256=i.extend({_doReset:function(){this._hash=new a.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],s=r[3],o=r[4],l=r[5],h=r[6],f=r[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var d=c[p-15],v=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,y=c[p-2],w=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[p]=v+c[p-7]+w+c[p-16]}var _=n&a^n&i^a&i,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),g=f+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&l^~o&h)+u[p]+c[p];f=h,h=l,l=o,o=s+g|0,s=i,i=a,a=n,n=g+(b+_)|0}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+o|0,r[5]=r[5]+l|0,r[6]=r[6]+h|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;return r[a>>>5]|=128<<24-a%32,r[14+(a+64>>>9<<4)]=e.floor(n/4294967296),r[15+(a+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),r.SHA256)}(lc)),lc.exports}var fc,pc={exports:{}};var dc,vc={exports:{}};function yc(){return dc||(dc=1,function(e,t){var r;e.exports=(r=Fu(),Iu(),function(){var e=r,t=e.lib.Hasher,n=e.x64,a=n.Word,i=n.WordArray,s=e.algo;function o(){return a.create.apply(a,arguments)}var u=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=o()}();var l=s.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],s=r[3],o=r[4],l=r[5],h=r[6],f=r[7],p=n.high,d=n.low,v=a.high,y=a.low,w=i.high,_=i.low,b=s.high,g=s.low,k=o.high,m=o.low,x=l.high,B=l.low,A=h.high,S=h.low,C=f.high,z=f.low,j=p,E=d,O=v,D=y,M=w,q=_,W=b,$=g,P=k,T=m,R=x,H=B,F=A,U=S,L=C,I=z,Z=0;Z<80;Z++){var N,G,K=c[Z];if(Z<16)G=K.high=0|e[t+2*Z],N=K.low=0|e[t+2*Z+1];else{var X=c[Z-15],J=X.high,Y=X.low,V=(J>>>1|Y<<31)^(J>>>8|Y<<24)^J>>>7,Q=(Y>>>1|J<<31)^(Y>>>8|J<<24)^(Y>>>7|J<<25),ee=c[Z-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ae=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),ie=c[Z-7],se=ie.high,oe=ie.low,ue=c[Z-16],ce=ue.high,le=ue.low;G=(G=(G=V+se+((N=Q+oe)>>>0<Q>>>0?1:0))+ne+((N+=ae)>>>0<ae>>>0?1:0))+ce+((N+=le)>>>0<le>>>0?1:0),K.high=G,K.low=N}var he,fe=P&R^~P&F,pe=T&H^~T&U,de=j&O^j&M^O&M,ve=E&D^E&q^D&q,ye=(j>>>28|E<<4)^(j<<30|E>>>2)^(j<<25|E>>>7),we=(E>>>28|j<<4)^(E<<30|j>>>2)^(E<<25|j>>>7),_e=(P>>>14|T<<18)^(P>>>18|T<<14)^(P<<23|T>>>9),be=(T>>>14|P<<18)^(T>>>18|P<<14)^(T<<23|P>>>9),ge=u[Z],ke=ge.high,me=ge.low,xe=L+_e+((he=I+be)>>>0<I>>>0?1:0),Be=we+ve;L=F,I=U,F=R,U=H,R=P,H=T,P=W+(xe=(xe=(xe=xe+fe+((he+=pe)>>>0<pe>>>0?1:0))+ke+((he+=me)>>>0<me>>>0?1:0))+G+((he+=N)>>>0<N>>>0?1:0))+((T=$+he|0)>>>0<$>>>0?1:0)|0,W=M,$=q,M=O,q=D,O=j,D=E,j=xe+(ye+de+(Be>>>0<we>>>0?1:0))+((E=he+Be|0)>>>0<he>>>0?1:0)|0}d=n.low=d+E,n.high=p+j+(d>>>0<E>>>0?1:0),y=a.low=y+D,a.high=v+O+(y>>>0<D>>>0?1:0),_=i.low=_+q,i.high=w+M+(_>>>0<q>>>0?1:0),g=s.low=g+$,s.high=b+W+(g>>>0<$>>>0?1:0),m=o.low=m+T,o.high=k+P+(m>>>0<T>>>0?1:0),B=l.low=B+H,l.high=x+R+(B>>>0<H>>>0?1:0),S=h.low=S+U,h.high=A+F+(S>>>0<U>>>0?1:0),z=f.low=z+I,f.high=C+L+(z>>>0<I>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),r.SHA512)}(vc)),vc.exports}var wc,_c={exports:{}};var bc,gc={exports:{}};function kc(){return bc||(bc=1,function(e,t){var r;e.exports=(r=Fu(),Iu(),function(e){var t=r,n=t.lib,a=n.WordArray,i=n.Hasher,s=t.x64.Word,o=t.algo,u=[],c=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){u[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,i=0;i<24;i++){for(var o=0,h=0,f=0;f<7;f++){if(1&a){var p=(1<<f)-1;p<32?h^=1<<p:o^=1<<p-32}128&a?a=a<<1^113:a<<=1}l[i]=s.create(o,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=s.create()}();var f=o.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,a=0;a<n;a++){var i=e[t+2*a],s=e[t+2*a+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(z=r[a]).high^=s,z.low^=i}for(var o=0;o<24;o++){for(var f=0;f<5;f++){for(var p=0,d=0,v=0;v<5;v++)p^=(z=r[f+5*v]).high,d^=z.low;var y=h[f];y.high=p,y.low=d}for(f=0;f<5;f++){var w=h[(f+4)%5],_=h[(f+1)%5],b=_.high,g=_.low;for(p=w.high^(b<<1|g>>>31),d=w.low^(g<<1|b>>>31),v=0;v<5;v++)(z=r[f+5*v]).high^=p,z.low^=d}for(var k=1;k<25;k++){var m=(z=r[k]).high,x=z.low,B=u[k];B<32?(p=m<<B|x>>>32-B,d=x<<B|m>>>32-B):(p=x<<B-32|m>>>64-B,d=m<<B-32|x>>>64-B);var A=h[c[k]];A.high=p,A.low=d}var S=h[0],C=r[0];for(S.high=C.high,S.low=C.low,f=0;f<5;f++)for(v=0;v<5;v++){var z=r[k=f+5*v],j=h[k],E=h[(f+1)%5+5*v],O=h[(f+2)%5+5*v];z.high=j.high^~E.high&O.high,z.low=j.low^~E.low&O.low}z=r[0];var D=l[o];z.high^=D.high,z.low^=D.low}},_doFinalize:function(){var t=this._data,r=t.words;this._nDataBytes;var n=8*t.sigBytes,i=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/i)*i>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var s=this._state,o=this.cfg.outputLength/8,u=o/8,c=[],l=0;l<u;l++){var h=s[l],f=h.high,p=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(f)}return new a.init(c,o)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=i._createHelper(f),t.HmacSHA3=i._createHmacHelper(f)}(Math),r.SHA3)}(gc)),gc.exports}var mc,xc={exports:{}};var Bc,Ac={exports:{}};function Sc(){return Bc||(Bc=1,function(e,t){var r;e.exports=(r=Fu(),void function(){var e=r,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,a=4*r;t.sigBytes>a&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),o=i.words,u=s.words,c=0;c<r;c++)o[c]^=1549556828,u[c]^=909522486;i.sigBytes=s.sigBytes=a,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}())}(Ac)),Ac.exports}var Cc,zc={exports:{}};var jc,Ec={exports:{}};function Oc(){return jc||(jc=1,function(e,t){var r;e.exports=(r=Fu(),uc(),Sc(),function(){var e=r,t=e.lib,n=t.Base,a=t.WordArray,i=e.algo,s=i.MD5,o=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),s=a.create(),o=s.words,u=n.keySize,c=n.iterations;o.length<u;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var l=1;l<c;l++)r=i.finalize(r),i.reset();s.concat(r)}return s.sigBytes=4*u,s}});e.EvpKDF=function(e,t,r){return o.create(r).compute(e,t)}}(),r.EvpKDF)}(Ec)),Ec.exports}var Dc,Mc={exports:{}};function qc(){return Dc||(Dc=1,function(e,t){var r;e.exports=(r=Fu(),Oc(),void(r.lib.Cipher||function(e){var t=r,n=t.lib,a=n.Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,o=t.enc;o.Utf8;var u=o.Base64,c=t.algo.EvpKDF,l=n.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:w}return function(t){return{encrypt:function(r,n,a){return e(n).encrypt(t,r,n,a)},decrypt:function(r,n,a){return e(n).decrypt(t,r,n,a)}}}}()});n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var h=t.mode={},f=n.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=h.CBC=function(){var t=f.extend();function r(t,r,n){var a,i=this._iv;i?(a=i,this._iv=e):a=this._prevBlock;for(var s=0;s<n;s++)t[r+s]^=a[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize;r.call(this,e,t,a),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+a)}}),t.Decryptor=t.extend({processBlock:function(e,t){var n=this._cipher,a=n.blockSize,i=e.slice(t,t+a);n.decryptBlock(e,t),r.call(this,e,t,a),this._prevBlock=i}}),t}(),d=(t.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,a=n<<24|n<<16|n<<8|n,s=[],o=0;o<n;o+=4)s.push(a);var u=i.create(s,n);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:p,padding:d}),reset:function(){var e;l.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var v=n.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(t):t).toString(u)},parse:function(e){var t,r=u.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),v.create({ciphertext:r,salt:t})}},w=n.SerializableCipher=a.extend({cfg:a.extend({format:y}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var a=e.createEncryptor(r,n),i=a.finalize(t),s=a.cfg;return v.create({ciphertext:i,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(t.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=i.random(8));var a=c.create({keySize:t+r}).compute(e,n),s=i.create(a.words.slice(t),4*r);return a.sigBytes=4*t,v.create({key:a,iv:s,salt:n})}},b=n.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:_}),encrypt:function(e,t,r,n){var a=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=a.iv;var i=w.encrypt.call(this,e,t,a.key,n);return i.mixIn(a),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var a=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=a.iv,w.decrypt.call(this,e,t,a.key,n)}})}()))}(Mc)),Mc.exports}var Wc,$c={exports:{}};function Pc(){return Wc||(Wc=1,function(e,t){var r;e.exports=(r=Fu(),qc(),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,r,n){var a,i=this._iv;i?(a=i.slice(0),this._iv=void 0):a=this._prevBlock,n.encryptBlock(a,0);for(var s=0;s<r;s++)e[t+s]^=a[s]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize;t.call(this,e,r,a,n),this._prevBlock=e.slice(r,r+a)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize,i=e.slice(r,r+a);t.call(this,e,r,a,n),this._prevBlock=i}}),e}(),r.mode.CFB)}($c)),$c.exports}var Tc,Rc={exports:{}};function Hc(){return Tc||(Tc=1,function(e,t){var r,n,a;e.exports=(a=Fu(),qc(),a.mode.CTR=(r=a.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._counter;a&&(i=this._counter=a.slice(0),this._iv=void 0);var s=i.slice(0);r.encryptBlock(s,0),i[n-1]=i[n-1]+1|0;for(var o=0;o<n;o++)e[t+o]^=s[o]}}),r.Decryptor=n,r),a.mode.CTR)}(Rc)),Rc.exports}var Fc,Uc={exports:{}};function Lc(){return Fc||(Fc=1,function(e,t){var r;e.exports=(r=Fu(),qc(),
/** @preserve
            			 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
            			 * derived from CryptoJS.mode.CTR
            			 * Jan Hruby jhruby.web@gmail.com
            			 */
r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var a=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,a=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0),n(s);var o=s.slice(0);r.encryptBlock(o,0);for(var u=0;u<a;u++)e[t+u]^=o[u]}});return e.Decryptor=a,e}(),r.mode.CTRGladman)}(Uc)),Uc.exports}var Ic,Zc={exports:{}};function Nc(){return Ic||(Ic=1,function(e,t){var r,n,a;e.exports=(a=Fu(),qc(),a.mode.OFB=(r=a.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,a=this._iv,i=this._keystream;a&&(i=this._keystream=a.slice(0),this._iv=void 0),r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}}),r.Decryptor=n,r),a.mode.OFB)}(Zc)),Zc.exports}var Gc,Kc={exports:{}};var Xc,Jc={exports:{}};var Yc,Vc={exports:{}};var Qc,el={exports:{}};var tl,rl={exports:{}};var nl,al={exports:{}};var il,sl={exports:{}};var ol,ul={exports:{}};var cl,ll={exports:{}};function hl(){return cl||(cl=1,function(e,t){var r;e.exports=(r=Fu(),Qu(),ic(),Oc(),qc(),function(){var e=r,t=e.lib,n=t.WordArray,a=t.BlockCipher,i=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=i.DES=a.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=s[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var a=this._subKeys=[],i=0;i<16;i++){var c=a[i]=[],l=u[i];for(r=0;r<24;r++)c[r/6|0]|=t[(o[r]-1+l)%28]<<31-r%6,c[4+(r/6|0)]|=t[28+(o[r+24]-1+l)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=a[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),f.call(this,1,1431655765);for(var n=0;n<16;n++){for(var a=r[n],i=this._lBlock,s=this._rBlock,o=0,u=0;u<8;u++)o|=c[u][((s^a[u])&l[u])>>>0];this._lBlock=s,this._rBlock=i^o}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,f.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=a._createHelper(h);var d=i.TripleDES=a.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),a=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(a))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=a._createHelper(d)}(),r.TripleDES)}(ll)),ll.exports}var fl,pl={exports:{}};var dl,vl={exports:{}};var yl,wl={exports:{}};!function(e,t){var r;e.exports=(r=Fu(),Iu(),Gu(),Ju(),Qu(),rc(),ic(),uc(),hc(),fc||(fc=1,function(e,t){var r,n,a,i,s,o;e.exports=(o=Fu(),hc(),n=(r=o).lib.WordArray,a=r.algo,i=a.SHA256,s=a.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=i._createHelper(s),r.HmacSHA224=i._createHmacHelper(s),o.SHA224)}(pc)),yc(),wc||(wc=1,function(e,t){var r,n,a,i,s,o,u,c;e.exports=(c=Fu(),Iu(),yc(),n=(r=c).x64,a=n.Word,i=n.WordArray,s=r.algo,o=s.SHA512,u=s.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=o._createHelper(u),r.HmacSHA384=o._createHmacHelper(u),c.SHA384)}(_c)),kc(),mc||(mc=1,function(e,t){var r;e.exports=(r=Fu(),
/** @preserve
            			(c) 2012 by Cédric Mesnil. All rights reserved.

            			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

            			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
            			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

            			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
            			*/
function(e){var t=r,n=t.lib,a=n.WordArray,i=n.Hasher,s=t.algo,o=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=a.create([0,1518500249,1859775393,2400959708,2840853838]),f=a.create([1352829926,1548603684,1836072691,2053994217,0]),p=s.RIPEMD160=i.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i,s,p,g,k,m,x,B,A,S,C,z=this._hash.words,j=h.words,E=f.words,O=o.words,D=u.words,M=c.words,q=l.words;for(m=i=z[0],x=s=z[1],B=p=z[2],A=g=z[3],S=k=z[4],r=0;r<80;r+=1)C=i+e[t+O[r]]|0,C+=r<16?d(s,p,g)+j[0]:r<32?v(s,p,g)+j[1]:r<48?y(s,p,g)+j[2]:r<64?w(s,p,g)+j[3]:_(s,p,g)+j[4],C=(C=b(C|=0,M[r]))+k|0,i=k,k=g,g=b(p,10),p=s,s=C,C=m+e[t+D[r]]|0,C+=r<16?_(x,B,A)+E[0]:r<32?w(x,B,A)+E[1]:r<48?y(x,B,A)+E[2]:r<64?v(x,B,A)+E[3]:d(x,B,A)+E[4],C=(C=b(C|=0,q[r]))+S|0,m=S,S=A,A=b(B,10),B=x,x=C;C=z[1]+p+A|0,z[1]=z[2]+g+S|0,z[2]=z[3]+k+m|0,z[3]=z[4]+i+x|0,z[4]=z[0]+s+B|0,z[0]=C},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,i=a.words,s=0;s<5;s++){var o=i[s];i[s]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,r){return e^t^r}function v(e,t,r){return e&t|~e&r}function y(e,t,r){return(e|~t)^r}function w(e,t,r){return e&r|t&~r}function _(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=i._createHelper(p),t.HmacRIPEMD160=i._createHmacHelper(p)}(),r.RIPEMD160)}(xc)),Sc(),Cc||(Cc=1,function(e,t){var r;e.exports=(r=Fu(),uc(),Sc(),function(){var e=r,t=e.lib,n=t.Base,a=t.WordArray,i=e.algo,s=i.SHA1,o=i.HMAC,u=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=o.create(r.hasher,e),i=a.create(),s=a.create([1]),u=i.words,c=s.words,l=r.keySize,h=r.iterations;u.length<l;){var f=n.update(t).finalize(s);n.reset();for(var p=f.words,d=p.length,v=f,y=1;y<h;y++){v=n.finalize(v),n.reset();for(var w=v.words,_=0;_<d;_++)p[_]^=w[_]}i.concat(f),c[0]++}return i.sigBytes=4*l,i}});e.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)}}(),r.PBKDF2)}(zc)),Oc(),qc(),Pc(),Hc(),Lc(),Nc(),Gc||(Gc=1,function(e,t){var r,n;e.exports=(n=Fu(),qc(),n.mode.ECB=((r=n.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),n.mode.ECB)}(Kc)),Xc||(Xc=1,function(e,t){var r;e.exports=(r=Fu(),qc(),r.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,a=n-r%n,i=r+a-1;e.clamp(),e.words[i>>>2]|=a<<24-i%4*8,e.sigBytes+=a},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)}(Jc)),Yc||(Yc=1,function(e,t){var r;e.exports=(r=Fu(),qc(),r.pad.Iso10126={pad:function(e,t){var n=4*t,a=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(a-1)).concat(r.lib.WordArray.create([a<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)}(Vc)),Qc||(Qc=1,function(e,t){var r;e.exports=(r=Fu(),qc(),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)}(el)),tl||(tl=1,function(e,t){var r;e.exports=(r=Fu(),qc(),r.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},r.pad.ZeroPadding)}(rl)),nl||(nl=1,function(e,t){var r;e.exports=(r=Fu(),qc(),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)}(al)),il||(il=1,function(e,t){var r,n,a,i;e.exports=(i=Fu(),qc(),n=(r=i).lib.CipherParams,a=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(a)},parse:function(e){var t=a.parse(e);return n.create({ciphertext:t})}},i.format.Hex)}(sl)),ol||(ol=1,function(e,t){var r;e.exports=(r=Fu(),Qu(),ic(),Oc(),qc(),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,a=[],i=[],s=[],o=[],u=[],c=[],l=[],h=[],f=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var d=n^n<<1^n<<2^n<<3^n<<4;d=d>>>8^255&d^99,a[r]=d,i[d]=r;var v=e[r],y=e[v],w=e[y],_=257*e[d]^16843008*d;s[r]=_<<24|_>>>8,o[r]=_<<16|_>>>16,u[r]=_<<8|_>>>24,c[r]=_,_=16843009*w^65537*y^257*v^16843008*r,l[d]=_<<24|_>>>8,h[d]=_<<16|_>>>16,f[d]=_<<8|_>>>24,p[d]=_,r?(r=v^e[e[e[w^v]]],n^=e[e[n]]):r=n=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],v=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<n;s++)s<r?i[s]=t[s]:(c=i[s-1],s%r?r>6&&s%r==4&&(c=a[c>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c]):(c=a[(c=c<<8|c>>>24)>>>24]<<24|a[c>>>16&255]<<16|a[c>>>8&255]<<8|a[255&c],c^=d[s/r|0]<<24),i[s]=i[s-r]^c);for(var o=this._invKeySchedule=[],u=0;u<n;u++){if(s=n-u,u%4)var c=i[s];else c=i[s-4];o[u]=u<4||s<=4?c:l[a[c>>>24]]^h[a[c>>>16&255]]^f[a[c>>>8&255]]^p[a[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,o,u,c,a)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,h,f,p,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,a,i,s,o){for(var u=this._nRounds,c=e[t]^r[0],l=e[t+1]^r[1],h=e[t+2]^r[2],f=e[t+3]^r[3],p=4,d=1;d<u;d++){var v=n[c>>>24]^a[l>>>16&255]^i[h>>>8&255]^s[255&f]^r[p++],y=n[l>>>24]^a[h>>>16&255]^i[f>>>8&255]^s[255&c]^r[p++],w=n[h>>>24]^a[f>>>16&255]^i[c>>>8&255]^s[255&l]^r[p++],_=n[f>>>24]^a[c>>>16&255]^i[l>>>8&255]^s[255&h]^r[p++];c=v,l=y,h=w,f=_}v=(o[c>>>24]<<24|o[l>>>16&255]<<16|o[h>>>8&255]<<8|o[255&f])^r[p++],y=(o[l>>>24]<<24|o[h>>>16&255]<<16|o[f>>>8&255]<<8|o[255&c])^r[p++],w=(o[h>>>24]<<24|o[f>>>16&255]<<16|o[c>>>8&255]<<8|o[255&l])^r[p++],_=(o[f>>>24]<<24|o[c>>>16&255]<<16|o[l>>>8&255]<<8|o[255&h])^r[p++],e[t]=v,e[t+1]=y,e[t+2]=w,e[t+3]=_},keySize:8});e.AES=t._createHelper(v)}(),r.AES)}(ul)),hl(),fl||(fl=1,function(e,t){var r;e.exports=(r=Fu(),Qu(),ic(),Oc(),qc(),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,a=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],a=0;a<256;a++)n[a]=a;a=0;for(var i=0;a<256;a++){var s=a%r,o=t[s>>>2]>>>24-s%4*8&255;i=(i+n[a]+o)%256;var u=n[a];n[a]=n[i],n[i]=u}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,a=0;a<4;a++){r=(r+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[r],e[r]=i,n|=e[(e[t]+e[r])%256]<<24-8*a}return this._i=t,this._j=r,n}e.RC4=t._createHelper(a);var s=n.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(s)}(),r.RC4)}(pl)),dl||(dl=1,function(e,t){var r;e.exports=(r=Fu(),Qu(),ic(),Oc(),qc(),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,a=[],i=[],s=[],o=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],a=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)u.call(this);for(r=0;r<8;r++)a[r]^=n[r+4&7];if(t){var i=t.words,s=i[0],o=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=c>>>16|4294901760&l,f=l<<16|65535&c;for(a[0]^=c,a[1]^=h,a[2]^=l,a[3]^=f,a[4]^=c,a[5]^=h,a[6]^=l,a[7]^=f,r=0;r<4;r++)u.call(this)}},_doProcessBlock:function(e,t){var r=this._X;u.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,o=n>>>16,u=((a*a>>>17)+a*o>>>15)+o*o,c=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(o)}(),r.Rabbit)}(vl)),yl||(yl=1,function(e,t){var r;e.exports=(r=Fu(),Qu(),ic(),Oc(),qc(),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,a=[],i=[],s=[],o=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var a=0;a<4;a++)u.call(this);for(a=0;a<8;a++)n[a]^=r[a+4&7];if(t){var i=t.words,s=i[0],o=i[1],c=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),h=c>>>16|4294901760&l,f=l<<16|65535&c;for(n[0]^=c,n[1]^=h,n[2]^=l,n[3]^=f,n[4]^=c,n[5]^=h,n[6]^=l,n[7]^=f,a=0;a<4;a++)u.call(this)}},_doProcessBlock:function(e,t){var r=this._X;u.call(this),a[0]=r[0]^r[5]>>>16^r[3]<<16,a[1]=r[2]^r[7]>>>16^r[5]<<16,a[2]=r[4]^r[1]>>>16^r[7]<<16,a[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)a[n]=16711935&(a[n]<<8|a[n]>>>24)|4278255360&(a[n]<<24|a[n]>>>8),e[t+n]^=a[n]},blockSize:4,ivSize:2});function u(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],a=65535&n,o=n>>>16,u=((a*a>>>17)+a*o>>>15)+o*o,c=((4294901760&n)*n|0)+((65535&n)*n|0);s[r]=u^c}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(o)}(),r.RabbitLegacy)}(wl)),r)}(Pu);var _l=Pu.exports,bl=new WeakMap,gl=new WeakMap,kl=new WeakMap,ml=new WeakSet,xl=new WeakMap,Bl=new WeakMap,Al=new WeakSet,Sl=new WeakSet,Cl=new WeakSet,zl=new WeakSet,jl=function(e){v(p,e);var t,r,n,i,s,o,u,c,l,h,f=w(p);function p(){var e;S(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(b(e=f.call.apply(f,[this].concat(r))),zl),k(b(e),Cl),k(b(e),Sl),k(b(e),Al),j(b(e),Bl,{get:ql,set:Wl}),j(b(e),xl,{get:Dl,set:Ml}),k(b(e),ml),j(b(e),bl,{writable:!0,value:!1}),j(b(e),gl,{writable:!0,value:!1}),j(b(e),kl,{writable:!0,value:null}),e}return z(p,[{key:"uuid",get:function(){return O(this,kl)}},{key:"username",get:function(){return this.$db.kv.get("username")},set:function(e){this.$db.kv.set("username",e)}},{key:"authenticated",get:function(){return!!O(this,bl)}},{key:"isguest",get:function(){return!!O(this,gl)}},{key:"initialize",value:(h=A(x().mark((function e(){var t=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$on("network.resume",(function(e){e||(D(t,kl,null),D(t,bl,!1),D(t,gl,!1))}));case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"authenticate",value:(l=A(x().mark((function e(t,r,n){var a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m(this,zl,Fl).call(this,r),e.next=3,m(this,Al,$l).call(this,t,r);case 3:return a=e.sent,D(this,xl,a&&n),O(this,xl)&&(this.username=t,D(this,Bl,r)),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return l.apply(this,arguments)})},{key:"register",value:(c=A(x().mark((function e(t,r,n){var a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m(this,zl,Fl).call(this,r),e.next=3,this.$session.register(t,r);case 3:if(a=e.sent,D(this,kl,a),D(this,bl,!!a),D(this,gl,!a),D(this,xl,!!a&&n),O(this,xl)&&(this.username=t,D(this,Bl,r)),!a){e.next=13;break}return e.next=12,this.$db.auth.set(t,a);case 12:$emit("user.authenticated",[a,!1]);case 13:return e.abrupt("return",!!a);case 14:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return c.apply(this,arguments)})},{key:"guest",value:(u=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$session.guest();case 2:return t=e.sent,D(this,kl,t),D(this,bl,D(this,gl,!!t)),t&&$emit("user.authenticated",[t,!0]),e.abrupt("return",!!t);case 7:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"logout",value:(o=A(x().mark((function e(){var t,r,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(this,bl)){e.next=2;break}return e.abrupt("return",{r:!0});case 2:return e.next=4,this.$session.logout();case 4:return t=e.sent,r=O(this,kl),n=O(this,gl),t&&D(this,kl,null),D(this,bl,D(this,gl,D(this,xl,!t))),t&&$emit("user.logout",[r,n]),e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"autologin",value:(s=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(this,xl)){e.next=2;break}return e.abrupt("return",[!1,!0]);case 2:return e.next=4,m(this,Al,$l).call(this,this.username,O(this,Bl));case 4:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 6:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"get",value:(i=A(x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,m(this,Cl,Rl).call(this,[""+t]);case 4:return r=e.sent,e.abrupt("return",r[t]||null);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"gets",value:(n=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a(t).filter((function(e){return!!e})).map((function(e){return""+e})),e.abrupt("return",m(this,Cl,Rl).call(this,a(new Set(t))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"isGuest",value:function(e){return!!e&&"#"==e[0]}},{key:"mymeta",value:(r=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(this,bl)&&!O(this,gl)){e.next=2;break}return e.abrupt("return",{});case 2:return e.next=4,this.get(O(this,kl));case 4:return t=e.sent,e.abrupt("return",t||{});case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"accessory",value:(t=A(x().mark((function e(t){var r,n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in t)t[r]||delete t[r];if(!(Object.keys(t).length<=0)){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,m(this,ml,El).call(this,"accessory",t);case 5:return n=e.sent,a=n.success,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),p}(l);function El(e,t){return Ol.apply(this,arguments)}function Ol(){return(Ol=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$core.command("user.".concat(t),r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Dl(){return!!this.$db.kv.get("autologin")}function Ml(e){this.$db.kv.set("autologin",!!e)}function ql(){return this.$db.kv.get("password")}function Wl(e){this.$db.kv.set("password",e)}function $l(e,t){return Pl.apply(this,arguments)}function Pl(){return(Pl=A(x().mark((function e(t,r){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$session.authenticate(t,r);case 2:if(n=e.sent,D(this,kl,n),D(this,gl,!n),D(this,bl,!!n),!n){e.next=10;break}return e.next=9,this.$db.auth.set(t,n);case 9:$emit("user.authenticated",[n,!1]);case 10:return e.abrupt("return",!!n);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Tl(e){return Date.now()-36e5>e}function Rl(e){return Hl.apply(this,arguments)}function Hl(){return(Hl=A(x().mark((function e(t){var r,n,a,i,s,o,u,c,l,h,p,d,v;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n={},a=f(t),e.prev=3,a.s();case 5:if((i=a.n()).done){e.next=20;break}if(s=i.value,!this.isGuest(s)){e.next=10;break}return n[s]={uuid:s,guest:!0},e.abrupt("continue",18);case 10:return e.next=12,this.$db.user.get(s);case 12:if(!(o=e.sent)){e.next=17;break}if(o.uuid!==O(this,kl)&&m(this,Sl,Tl).call(this,o.$update)){e.next=17;break}return n[s]=o.meta,e.abrupt("continue",18);case 17:r.push(s);case 18:e.next=5;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(3),a.e(e.t0);case 25:return e.prev=25,a.f(),e.finish(25);case 28:if(!r.length){e.next=47;break}return e.next=31,m(this,ml,El).call(this,"get",r);case 31:if(u=e.sent,c=u.success,l=u.data,c){e.next=36;break}return e.abrupt("return",n);case 36:h=Date.now(),e.t1=x().keys(l);case 38:if((e.t2=e.t1()).done){e.next=47;break}return p=e.t2.value,d=l[p],v={uuid:p,meta:d,$update:h},e.next=44,this.$db.user.set(v);case 44:n[p]=d,e.next=38;break;case 47:return e.abrupt("return",n);case 48:case"end":return e.stop()}}),e,this,[[3,22,25,28]])})))).apply(this,arguments)}function Fl(e){for(var t=_l.HmacSHA256(e,_l.MD5(e).toString()).toString().split("").map((function(e){return parseInt(e,16).toString(2).padStart(4,"0")})).join(""),r=[],n=0;n<t.length;){var a=t.substring(n,n+6);n+=6,r.push("tz4l/abUX3HDVhwG.pqcrLmsN@Yk+SAEdRBvxy2$7WPog8uFO19jJCZIinQf0MKT"[parseInt(a,2)])}return r.join("")}var Ul=new WeakMap,Ll=new WeakMap,Il=new WeakMap,Zl=new WeakMap,Nl=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,Yl=new WeakMap,Vl=new WeakSet,Ql=new WeakSet,eh=new WeakSet,th=new WeakSet,rh=new WeakSet,nh=new WeakSet,ah=new WeakSet,ih=new WeakSet,sh=new WeakSet,oh=new WeakSet,uh=new WeakSet,ch=function(e){v(d,e);var t,r,n,a,i,o,u,c,l,h,p=w(d);function d(){var e;S(this,d);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(b(e=p.call.apply(p,[this].concat(r))),uh),k(b(e),oh),k(b(e),sh),k(b(e),ih),k(b(e),ah),k(b(e),nh),k(b(e),rh),k(b(e),th),k(b(e),eh),k(b(e),Ql),k(b(e),Vl),j(b(e),Ul,{writable:!0,value:""}),j(b(e),Ll,{writable:!0,value:0}),j(b(e),Il,{writable:!0,value:!1}),j(b(e),Zl,{writable:!0,value:!1}),j(b(e),Nl,{writable:!0,value:!1}),j(b(e),Gl,{writable:!0,value:!1}),j(b(e),Kl,{writable:!0,value:new Set}),j(b(e),Xl,{writable:!0,value:null}),j(b(e),Jl,{writable:!0,value:-1}),j(b(e),Yl,{writable:!0,value:0}),e}return z(d,[{key:"room",get:function(){return O(this,Ul)}},{key:"limit",get:function(){return O(this,Ll)}},{key:"isInRoom",get:function(){return O(this,Il)}},{key:"isStarted",get:function(){return O(this,Zl)}},{key:"isPrivate",get:function(){return O(this,Nl)}},{key:"isReady",get:function(){return O(this,Gl)}},{key:"users",get:function(){return O(this,Kl)}},{key:"currentQuestion",get:function(){return O(this,Xl)}},{key:"proxy",value:function(){var e=this;return{user:function(t){var r=s(t,2),n=r[0],a=r[1];return m(e,th,vh).call(e,n,a)},ready:function(t){return m(e,rh,wh).call(e,t)},pending:function(t){return m(e,nh,_h).call(e,t)},question:function(t){var r=s(t,3),n=r[0],a=r[1],i=r[2];return m(e,ah,bh).call(e,n,a,i)},answer:function(t){var r=s(t,2),n=r[0],a=r[1];return m(e,ih,gh).call(e,n,a)},settlement:function(t){return m(e,sh,kh).call(e,t)},resume:function(t){return m(e,oh,xh).call(e,t)}}}},{key:"initialize",value:(h=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.$configure.page,D(this,Yl,t),m(this,uh,Ah).call(this);case 3:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"pair",value:(l=A(x().mark((function e(t){var r,n,a,i,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Vl,lh).call(this,"pair",{type:t});case 2:if(r=e.sent,n=r.success,a=r.data,!n){e.next=12;break}return i=a.users,s=a.limit,D(this,Il,!0),D(this,Nl,!1),D(this,Ll,s),e.next=12,m(this,Ql,fh).call(this,i);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"create",value:(c=A(x().mark((function e(t){var r,n,a,i,s,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Vl,lh).call(this,"create",{type:t});case 2:return r=e.sent,n=r.success,a=r.data,n&&(i=a.room,s=a.info,o=s.users,u=s.limit,D(this,Il,!0),D(this,Nl,!0),D(this,Ul,i),D(this,Ll,u),m(this,Ql,fh).call(this,o)),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"join",value:(u=A(x().mark((function e(t){var r,n,a,i,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Vl,lh).call(this,"join",{room:t});case 2:return r=e.sent,n=r.success,a=r.data,n&&(i=a.users,s=a.limit,D(this,Il,!0),D(this,Nl,!0),D(this,Ul,t),D(this,Ll,s),m(this,Ql,fh).call(this,i)),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"leave",value:(o=A(x().mark((function e(){var t,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(this,Il)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,m(this,Vl,lh).call(this,"leave");case 4:return t=e.sent,(r=t.success)&&this.clear(),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"answer",value:(i=A(x().mark((function e(t){var r,n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(this,Xl)){e.next=2;break}return e.abrupt("return",!1);case 2:return r=O(this,Xl),e.next=5,m(this,Vl,lh).call(this,"answer",[O(this,Jl),t]);case 5:return n=e.sent,(a=n.success)&&(r.answer=t),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"clear",value:function(){D(this,Ul,""),D(this,Ll,0),D(this,Il,!1),D(this,Zl,!1),D(this,Gl,!1),D(this,Nl,!1),D(this,Xl,null),D(this,Jl,-1),O(this,Kl).clear()}},{key:"get",value:(a=A(x().mark((function e(t){var r,n,a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$db.settlement.get(t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,m(this,Vl,lh).call(this,"get",t);case 7:if(n=e.sent,a=n.success,i=n.data,a){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,this.$db.settlement.set(i);case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"pages",value:(n=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.total();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",0);case 5:return e.abrupt("return",Math.ceil(t/O(this,Yl)));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"total",value:(r=A(x().mark((function e(){var t,r,n,a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$user.uuid,e.next=3,this.$db.record.gets(t);case 3:return r=e.sent,n=r.c,a=(n=void 0===n?{}:n).priv,i=n.pair,e.abrupt("return",(a||0)+(i||0));case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"history",value:(t=A(x().mark((function e(t){var r,n,a,i,s,o,u,c,l,h,f,p,d,v,y,w;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.total();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return n=this.$user.uuid,e.next=8,this.$db.history.gets(n);case 8:a=e.sent,i=O(this,Yl),s=r-t*i,o=Math.max(s+i,0),s=Math.max(s,0),u=new Map,c=[],l=s;case 17:if(!(l<o)){e.next=26;break}if(!(h=a.get(l))){e.next=22;break}return u.set(l,h),e.abrupt("continue",23);case 22:c.push(l);case 23:l++,e.next=17;break;case 26:if(!(c.length>0)){e.next=39;break}return f=c[0],p=c.pop()+1,e.next=31,m(this,Vl,lh).call(this,"history",[f,p-f]);case 31:if(d=e.sent,v=d.success,y=d.data,v){e.next=36;break}return e.abrupt("return",[]);case 36:for(w=0;w<y.length;w++)u.set(f+w,y[w]);return e.next=39,this.$db.history.puts(n,u);case 39:return e.abrupt("return",Array.from(u.values()).reverse());case 40:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"format",value:function(e){var t,r=this,n=e.questions,a=e.scores,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$user.uuid,o=n.map((function(e){return[]})),u=[],c=function(e){var r=s(a[e],3),n=r[0],c=r[1],l=r[2],h=c.map((function(t,r){if(!Array.isArray(t))return{value:t,answer:""};var n=s(t,2),a=n[0],i=n[1];return o[r].push([e,i]),{value:a,answer:i}})),f={uuid:e,score:n,answers:h,ranking:l};u.push(f),e==i&&(t=f)};for(var l in a)c(l);u.sort((function(e,t){return e.ranking-t.ranking}));var h=u.length;return n=n.map((function(e,n){var a=s(e,2),i=a[0],u=a[1],c=(i=r.$question.get(i,u)).question;i.puts(o[n]);var l,p=i.answers.counter,d=[],v=h,y=f(p);try{for(y.s();!(l=y.n()).done;){var w=s(l.value,2),_=w[0],b=w[1],g=i.option(_).val;v-=b,d.push({option:_,value:b,description:g})}}catch(Di){y.e(Di)}finally{y.f()}return v&&d.push({option:"",value:v,description:""}),{question:c,answers:d,mine:t.answers[n]}})),{uuid:i,questions:n,rank:u,mine:t}}}]),d}(l);function lh(e,t){return hh.apply(this,arguments)}function hh(){return(hh=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$core.command("game.".concat(t),r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function fh(e){return ph.apply(this,arguments)}function ph(){return ph=A(x().mark((function e(t){var r,n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f(t);try{for(r.s();!(n=r.n()).done;)a=n.value,O(this,Kl).add(a)}catch(Di){r.e(Di)}finally{r.f()}return e.next=4,this.$user.gets(O(this,Kl));case 4:case"end":return e.stop()}}),e,this)}))),ph.apply(this,arguments)}function dh(e){var t,r=f(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;O(this,Kl).delete(n)}}catch(Di){r.e(Di)}finally{r.f()}}function vh(e,t){return yh.apply(this,arguments)}function yh(){return(yh=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Ql,fh).call(this,t);case 2:m(this,eh,dh).call(this,r),$emit("game.user",O(this,Kl));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function wh(){D(this,Gl,!0),$emit("game.ready")}function _h(){D(this,Gl,!1),$emit("game.pending")}function bh(e,t,r){var n=this.$core.question.get(t,r);D(this,Jl,e),D(this,Xl,n),O(this,Zl)||(D(this,Zl,!0),$emit("game.start")),$emit("game.question",n)}function gh(e,t){if(e==O(this,Jl)){var r=O(this,Xl);r&&(r.size=t),$emit("game.answer",t)}}function kh(e){return mh.apply(this,arguments)}function mh(){return(mh=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$db.settlement.set(t);case 2:this.clear(),$emit("game.settlement",t);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function xh(e){return Bh.apply(this,arguments)}function Bh(){return Bh=A(x().mark((function e(t){var r,n,a,i,s,o,u,c,l,h,f,p;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.info,n=t.start,a=t.question,D(this,Il,!0),i=r.users,s=r.limit,D(this,Nl,!1),D(this,Ll,s),e.next=7,m(this,Ql,fh).call(this,i);case 7:if(n){e.next=9;break}return e.abrupt("return",$emit("game.resume.room"));case 9:u=(o=a).idx,c=o.id,l=o.picked,h=o.left,f=o.size,p=o.answer,(a=this.$question.get(c,l,h,p)).size=f,D(this,Zl,!0),D(this,Jl,u),D(this,Xl,a),$emit("game.resume.question",{question:a,answer:p});case 16:case"end":return e.stop()}}),e,this)}))),Bh.apply(this,arguments)}function Ah(){$on("debug.game.settlement",(function(e){$emit("game.settlement",e)}))}var Sh=new WeakSet,Ch=new WeakSet,zh=new WeakMap,jh=new WeakSet,Eh=new WeakSet,Oh=new WeakSet,Dh=function(e){v(i,e);var t,r,n,a=w(i);function i(){var e;S(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(b(e=a.call.apply(a,[this].concat(r))),Oh),k(b(e),Eh),k(b(e),jh),k(b(e),Ch),k(b(e),Sh),j(b(e),zh,{writable:!0,value:void 0}),e}return z(i,[{key:"initialize",value:(n=A(x().mark((function e(){var t,r,n=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date).setSeconds(0),t.setMilliseconds(0),t.setMinutes(0),t.setHours(t.getHours()+1),r=Date.now()-t.getTime(),setTimeout((function(){m(n,jh,$h).call(n),setInterval((function(){return m(n,jh,$h).call(n)}),36e5)}),Math.max(0,r)),$on("user.logout",(function(e){return D(n,zh,null)})),$on("user.authenticated",(function(e){var t=s(e,2),r=t[0];t[1]||(D(n,zh,r),m(n,jh,$h).call(n))}));case 9:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"ranking",value:(r=A(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.abrupt("return",m(this,Eh,Th).call(this,""+t));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"get",value:(t=A(x().mark((function e(t){var r,n,a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="main"===e.t0||"ten"===e.t0||"hundred"===e.t0?3:4;break;case 3:return e.abrupt("break",5);case 4:return e.abrupt("return",null);case 5:return e.next=7,m(this,Oh,Hh).call(this,[t]);case 7:return r=e.sent,n={},null!=r&&r[t]?n.users=r[t].map((function(e){var t=s(e,2);return{uuid:t[0],ranking:t[1]}})):n.users=[],n.users.sort((function(e,t){return e.ranking-t.ranking})),e.next=13,this.$user.gets(n.users.map((function(e){return e.uuid})));case 13:if(this.$user.authenticate&&!this.$user.isguest){e.next=15;break}return e.abrupt("return",n);case 15:return a=this.$user.uuid,e.next=18,this.ranking(a);case 18:if(null!=(i=e.sent)&&i[t]){e.next=21;break}return e.abrupt("return",n);case 21:return n.ranking=i[t][0],n.size=i[t][1],e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(l);function Mh(e){return!(e=new Date(e).getTime())||e<Date.now()}function qh(e,t){return Wh.apply(this,arguments)}function Wh(){return(Wh=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$core.command("rank.".concat(t),r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function $h(){return Ph.apply(this,arguments)}function Ph(){return(Ph=A(x().mark((function e(){var t,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O(this,zh)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.ranking(t);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:$emit("$rank",r);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Th(e){return Rh.apply(this,arguments)}function Rh(){return(Rh=A(x().mark((function e(t){var r,n,a,i,o,u,c,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$db.rank.get(t);case 2:if(!(r=e.sent)||m(this,Sh,Mh).call(this,r.expired)){e.next=5;break}return e.abrupt("return",r.ranking);case 5:return e.next=7,m(this,Ch,qh).call(this,"ranking",{user:t});case 7:if(n=e.sent,a=n.success,i=n.data,a){e.next=12;break}return e.abrupt("return",null);case 12:if(i){e.next=14;break}return e.abrupt("return",null);case 14:return o=s(i,2),u=o[0],c=o[1],l={uuid:t,expired:c,ranking:u},e.next=18,this.$db.rank.set(l);case 18:return e.abrupt("return",u);case 19:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Hh(e){return Fh.apply(this,arguments)}function Fh(){return(Fh=A(x().mark((function e(t){var r,n,a,i,s,o,u,c,l,h,p,d,v;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n={},a=f(t),e.prev=3,a.s();case 5:if((i=a.n()).done){e.next=13;break}return s=i.value,e.next=9,this.$db.kv.get("rank-".concat(s));case 9:(o=e.sent)&&!m(this,Sh,Mh).call(this,o.expired)?n[s]=o.$data:r.push(s);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:if(!r.length){e.next=39;break}return e.next=24,m(this,Ch,qh).call(this,"get",r);case 24:if(u=e.sent,c=u.success,l=u.data,c){e.next=29;break}return e.abrupt("return",n);case 29:h=l.ranks,p=l.expired,e.t1=x().keys(h);case 31:if((e.t2=e.t1()).done){e.next=39;break}return d=e.t2.value,v=h[d],e.next=36,this.$db.kv.set("rank-".concat(d),{$data:v,expired:p});case 36:n[d]=v,e.next=31;break;case 39:return e.abrupt("return",n);case 40:case"end":return e.stop()}}),e,this,[[3,15,18,21]])})))).apply(this,arguments)}var Uh=new WeakMap,Lh=new WeakMap,Ih=new WeakMap,Zh=new WeakMap,Nh=new WeakMap,Gh=new WeakMap,Kh=new WeakMap,Xh=new WeakMap,Jh=new WeakSet,Yh=new WeakSet,Vh=new WeakSet,Qh=new WeakSet,ef=new WeakSet,tf=new WeakSet,rf=new WeakSet,nf=new WeakSet,af=new WeakSet,sf=new WeakSet,of=new WeakSet,uf=function(){function e(t,r){var n=this;if(S(this,e),k(this,of),k(this,sf),k(this,af),k(this,nf),k(this,rf),k(this,tf),k(this,ef),k(this,Qh),k(this,Vh),k(this,Yh),k(this,Jh),j(this,Uh,{writable:!0,value:!1}),j(this,Lh,{writable:!0,value:void 0}),j(this,Ih,{writable:!0,value:void 0}),j(this,Zh,{writable:!0,value:void 0}),j(this,Nh,{writable:!0,value:void 0}),j(this,Gh,{writable:!0,value:void 0}),j(this,Kh,{writable:!0,value:void 0}),j(this,Xh,{writable:!0,value:new Map}),t){var a=t.type,i=t.questions,o=t.scores;if(o[r]){D(this,Lh,a),D(this,Ih,r),D(this,Gh,i.map((function(e){var t=s(e,3);return{id:t[0],picked:t[1],answers:t[2]}})));var u={};for(var c in D(this,Zh,u),o){var l=s(o[c],3),h=l[0],f=l[1],p=l[2];u[p]?u[p]++:u[p]=1,O(this,Xh).set(c,{score:h,answers:f,ranking:p})}var d=function(e){return m(n,Jh,cf).call(n,e)};D(this,Kh,Object.keys(o).sort((function(e,t){return d(e)-d(t)}))),D(this,Nh,d(r)),D(this,Uh,!0)}}}return z(e,[{key:"ok",get:function(){return O(this,Uh)}},{key:"get",value:function(e){var t,r;switch(e){case"type":return O(this,Lh);case"ranking":return O(this,Nh);case"question":r=m(this,Yh,lf);break;case"picked":r=m(this,Vh,hf);break;case"answer":r=m(this,Qh,ff);break;case"subscore":r=m(this,ef,pf);break;case"score":r=m(this,nf,yf);break;case"count":r=m(this,af,wf);break;case"diff":r=m(this,sf,_f);break;case"timeout":r=m(this,of,bf);break;default:return null}for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return(t=r).call.apply(t,[this].concat(a))}}]),e}();function cf(e){return O(this,Xh).get(e).ranking}function lf(e){return O(this,Gh)[e].id}function hf(e){return O(this,Gh)[e].picked}function ff(e){var t=O(this,Ih),r=O(this,Xh).get(t).answers[e];return Array.isArray(r)?r[1]:""}function pf(e){var t=O(this,Ih),r=O(this,Xh).get(t).answers[e];return Array.isArray(r)?r[0]:0}function df(e){return"me"==e?O(this,Nh):e}function vf(e){return"me"==e?O(this,Ih):O(this,Kh)[e]}function yf(e){return O(this,Xh).get(m(this,rf,vf).call(this,e)).score}function wf(e){return O(this,Zh)[m(this,tf,df).call(this,e)]||0}function _f(e){var t=m(this,nf,yf).call(this,"me"),r=m(this,nf,yf).call(this,e);return Math.abs(t-r)}function bf(e){var t,r=0,n=m(this,rf,vf).call(this,e),a=f(O(this,Xh).get(n).answers);try{for(a.s();!(t=a.n()).done;){var i=t.value;Array.isArray(i)||r++}}catch(Di){a.e(Di)}finally{a.f()}return r}var gf=new WeakMap,kf=new WeakSet,mf=new WeakSet,xf=new WeakSet,Bf=new WeakSet,Af=new WeakSet,Sf=new WeakSet,Cf=function(e){v(a,e);var t,r,n=w(a);function a(){var e;S(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return k(b(e=n.call.apply(n,[this].concat(r))),Sf),k(b(e),Af),k(b(e),Bf),k(b(e),xf),k(b(e),mf),k(b(e),kf),j(b(e),gf,{writable:!0,value:new Map}),e}return z(a,[{key:"initialize",value:(r=A(x().mark((function e(){var t,r,n,a,i,o,u=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.$sheet.get("achievement"),e.t0=x().keys(t);case 2:if((e.t1=e.t0()).done){e.next=10;break}if(r=e.t1.value,n=t[r].watch){e.next=7;break}return e.abrupt("continue",2);case 7:O(this,gf).has(n)?O(this,gf).get(n).push(r):O(this,gf).set(n,[r]),e.next=2;break;case 10:a=f(O(this,gf));try{for(o=function(){var e=s(i.value,1)[0];$on(e,(function(t){return m(u,kf,zf).call(u,e,t)}))},a.s();!(i=a.n()).done;)o()}catch(Di){a.e(Di)}finally{a.f()}case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"achievements",value:(t=A(x().mark((function e(){var t,r,n,a,i,s,o,u,c,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$user.isguest){e.next=2;break}return e.abrupt("return",[]);case 2:if(t=this.$user.uuid){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,this.$db.achievement.gets(t);case 7:for(i in r=e.sent,n=this.$sheet.get("achievement"),a=[],n)s=n[i],o=s.name,u=s.grade,c=s.hide,l=s.description,a.push({id:i,name:o,description:l,hide:!!c,grade:u,unlocked:!!r[i]});return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),a}(l);function zf(e,t){return jf.apply(this,arguments)}function jf(){return(jf=A(x().mark((function e(t,r){var n,a,i,s,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.$user.isguest){e.next=2;break}return e.abrupt("return");case 2:if(n=this.$user.uuid){e.next=5;break}return e.abrupt("return");case 5:if(a=O(this,gf).get(t)){e.next=8;break}return e.abrupt("return");case 8:return console.debug("achievement.on",t),e.next=11,this.$db.achievement.gets(n);case 11:i=e.sent,s=f(a),e.prev=13,s.s();case 15:if((o=s.n()).done){e.next=23;break}if(u=o.value,!i[u]){e.next=19;break}return e.abrupt("continue",21);case 19:return e.next=21,m(this,mf,Ef).call(this,n,u,r);case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),s.e(e.t0);case 28:return e.prev=28,s.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,this,[[13,25,28,31]])})))).apply(this,arguments)}function Ef(e,t,r){return Of.apply(this,arguments)}function Of(){return(Of=A(x().mark((function e(t,r,n){var a,i,s,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t==this.$user.uuid){e.next=2;break}return e.abrupt("return");case 2:return a=this.$sheet.get("achievement",r),i=a.category,s=a.condition,console.debug("achievement.check",r),e.next=6,m(this,xf,Df).call(this,t,s,n);case 6:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:e.t0=i,e.next="settlement"===e.t0?11:13;break;case 11:return o={settlement:n.id},e.abrupt("break",13);case 13:return console.debug("achievement.trigger",r),e.next=16,this.$core.command("achv.trigger",{achv:r,params:o});case 16:if(u=e.sent,u.success){e.next=20;break}return e.abrupt("return");case 20:console.debug("achievement.unlock",r),$emit("achievement.unlock",r);case 22:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Df(e,t,r){return Mf.apply(this,arguments)}function Mf(){return(Mf=A(x().mark((function e(t,r,n){var a,i,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Bf,qf).call(this,t,r.values,n);case 2:if(a=e.sent,i=s(a,2),o=i[0],u=i[1],o){e.next=8;break}return e.abrupt("return",!1);case 8:return e.abrupt("return",$logic.exec(r.checks,u));case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function qf(e,t,r){return Wf.apply(this,arguments)}function Wf(){return Wf=A(x().mark((function t(r,n,i){var o,u,c,l,h,p,d,v,y,w,_,b,g,k,B,A,S,C,z,j,E;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(u in o=new Map,n)c=n[u].split("."),l=e(c),h=l[0],p=l.slice(1),o.has(h)||o.set(h,[]),o.get(h).push([u,p]);d={},v=f(o),t.prev=4,v.s();case 6:if((y=v.n()).done){t.next=20;break}return w=s(y.value,2),_=w[0],b=w[1],t.next=10,m(this,Af,$f).call(this,_,r,i);case 10:if(g=t.sent,k=s(g,2),B=k[0],A=k[1],B){t.next=16;break}return t.abrupt("return",[!1]);case 16:S=f(b);try{for(S.s();!(C=S.n()).done;)z=s(C.value,2),j=z[0],E=z[1],d[j]=A.apply(void 0,a(E))}catch(Di){S.e(Di)}finally{S.f()}case 18:t.next=6;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),v.e(t.t0);case 25:return t.prev=25,v.f(),t.finish(25);case 28:return t.abrupt("return",[!0,d]);case 29:case"end":return t.stop()}}),t,this,[[4,22,25,28]])}))),Wf.apply(this,arguments)}function $f(e,t,r){return Pf.apply(this,arguments)}function Pf(){return Pf=A(x().mark((function e(t,r,n){var a,i,o,u,c,l,h=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=$utils.clone(n),e.t0=t,e.next="settlement"===e.t0?4:"asset"===e.t0?7:"record"===e.t0?9:"rank"===e.t0?11:14;break;case 4:return i=new uf(i,r),a=function(){var e;return(e=i).get.apply(e,arguments)},e.abrupt("break",15);case 7:return a=function(e,t){var r,n;if("count"==e)return null!==(n=i)&&void 0!==n&&n[t]?Object.keys(i[t]).length:0;for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];return(r=m(h,Sf,Tf)).call.apply(r,[h,i,e,t].concat(s))},e.abrupt("break",15);case 9:return a=function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=m(h,Sf,Tf)).call.apply(e,[h,n].concat(r))},e.abrupt("break",15);case 11:for(o in i)u=s(i[o],2),c=u[0],l=u[1],i[o]={ranking:c,size:l};return a=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=m(h,Sf,Tf)).call.apply(e,[h,i].concat(r))},e.abrupt("break",15);case 14:return e.abrupt("return",[!1]);case 15:return e.abrupt("return",[!0,a]);case 16:case"end":return e.stop()}}),e)}))),Pf.apply(this,arguments)}function Tf(e){for(var t=e,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(var i=0,s=n;i<s.length;i++){var o=s[i];if(!t)return null;t=t[o]}return t}var Rf=new WeakSet,Hf=function(e){v(s,e);var t,r,n,a,i=w(s);function s(){var e;S(this,s);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(b(e=i.call.apply(i,[this].concat(r))),Rf),e}return z(s,[{key:"cards",value:(a=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Rf,Ff).call(this);case 2:return t=e.sent,e.abrupt("return",Object.keys(t.card||{}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"badges",value:(n=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Rf,Ff).call(this);case 2:return t=e.sent,e.abrupt("return",Object.keys(t.badge||{}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"money",value:(r=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Rf,Ff).call(this);case 2:return t=e.sent,e.abrupt("return",t.money||{});case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"check",value:(t=A(x().mark((function e(t){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.$user.uuid){e.next=3;break}return e.abrupt("return",!1);case 3:return e.abrupt("return",this.$db.asset.check(r,t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),s}(l);function Ff(){return Uf.apply(this,arguments)}function Uf(){return(Uf=A(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.$user.uuid){e.next=3;break}return e.abrupt("return",{});case 3:return e.abrupt("return",this.$db.asset.gets(t));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Lf=new WeakSet,If=new WeakSet,Zf=new WeakSet,Nf=function(e){v(i,e);var t,n,a=w(i);function i(){var e;S(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return k(b(e=a.call.apply(a,[this].concat(r))),Zf),k(b(e),If),k(b(e),Lf),e}return z(i,[{key:"shelves",value:(n=A(x().mark((function e(){var t,n,a,i,o,u,c,l,h,p,d,v,y,w,_;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(this,Zf,Jf).call(this);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:n=t.goods,a=t.expired,i=[],e.t0=x().keys(n);case 8:if((e.t1=e.t0()).done){e.next=36;break}o=e.t1.value,u=n[o],c=f(u.entries()),e.prev=12,c.s();case 14:if((l=c.n()).done){e.next=26;break}return h=s(l.value,2),p=h[0],d=h[1],v=d.price,y=d.rewards,e.next=19,this.$asset.check(y);case 19:return w=e.sent,e.next=22,this.$asset.check(v);case 22:_=e.sent,i.push(r({type:o,idx:p,owned:w,enough:_},d));case 24:e.next=14;break;case 26:e.next=31;break;case 28:e.prev=28,e.t2=e.catch(12),c.e(e.t2);case 31:return e.prev=31,c.f(),e.finish(31);case 34:e.next=8;break;case 36:return e.abrupt("return",{goods:i,expired:a});case 37:case"end":return e.stop()}}),e,this,[[12,28,31,34]])}))),function(){return n.apply(this,arguments)})},{key:"buy",value:(t=A(x().mark((function e(t){var r,n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,n=t.idx,a=t.good,e.abrupt("return",m(this,If,Kf).call(this,"buy",[r,n,a]).then((function(e){return e.success})));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(l);function Gf(e){return!(e=new Date(e).getTime())||e<Date.now()}function Kf(e,t){return Xf.apply(this,arguments)}function Xf(){return(Xf=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$core.command("shop.".concat(t),r));case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Jf(){return Yf.apply(this,arguments)}function Yf(){return(Yf=A(x().mark((function e(){var t,r,n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.$db.kv.get("shelves"))||m(this,Lf,Gf).call(this,t.expired)){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,m(this,If,Kf).call(this,"shelves");case 5:if(r=e.sent,n=r.success,a=r.data,n){e.next=10;break}return e.abrupt("return",null);case 10:if(a){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,this.$db.kv.set("shelves",a);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Vf=new WeakMap,Qf=new WeakMap,ep=new WeakMap,tp=new WeakMap,rp=new WeakMap,np=new WeakMap,ap=new WeakMap,ip=new WeakMap,sp=new WeakMap,op=new WeakMap,up=new WeakMap,cp=new WeakMap,lp=new WeakMap,hp=new WeakSet,fp=new WeakSet,pp=new WeakSet,dp=function(){function e(t){S(this,e),k(this,pp),k(this,fp),k(this,hp),j(this,Vf,{writable:!0,value:new Map}),j(this,Qf,{writable:!0,value:void 0}),j(this,ep,{writable:!0,value:void 0}),j(this,tp,{writable:!0,value:void 0}),j(this,rp,{writable:!0,value:void 0}),j(this,np,{writable:!0,value:void 0}),j(this,ap,{writable:!0,value:void 0}),j(this,ip,{writable:!0,value:void 0}),j(this,sp,{writable:!0,value:void 0}),j(this,op,{writable:!0,value:void 0}),j(this,up,{writable:!0,value:void 0}),j(this,cp,{writable:!0,value:void 0}),j(this,lp,{writable:!0,value:i}),D(this,Qf,t||{})}var t,r,n,a,o;return z(e,[{key:"sheet",get:function(){return O(this,ep)}},{key:"database",get:function(){return O(this,tp)}},{key:"question",get:function(){return O(this,rp)}},{key:"user",get:function(){return O(this,ap)}},{key:"game",get:function(){return O(this,ip)}},{key:"rank",get:function(){return O(this,sp)}},{key:"session",get:function(){return O(this,np)}},{key:"achievement",get:function(){return O(this,op)}},{key:"asset",get:function(){return O(this,up)}},{key:"shop",get:function(){return O(this,cp)}},{key:"err",get:function(){return O(this,lp)}},{key:"initialize",value:(o=A(x().mark((function e(){var t,r=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O(this,Qf),D(this,ep,new _(this,t.sheet)),D(this,tp,new te(this,t.database)),D(this,rp,new da(this,t.question)),D(this,np,new yu(this,t.session,{boardcast:function(e){return m(r,fp,yp).call(r,"boardcast",e)},connect:function(e){return m(r,fp,yp).call(r,"connect",e)},message:function(e){return m(r,fp,yp).call(r,"message",e)}})),D(this,ap,new jl(this,t.user)),D(this,ip,new ch(this,t.game)),D(this,sp,new Dh(this,t.rank)),D(this,op,new Cf(this,t.achievement)),D(this,up,new Hf(this,t.asset)),D(this,cp,new Nf(this,t.shop)),m(this,hp,vp).call(this,"game",O(this,ip).proxy()),e.next=14,O(this,ep).initialize();case 14:return e.next=16,O(this,tp).initialize();case 16:return e.next=18,O(this,rp).initialize();case 18:return e.next=20,O(this,ap).initialize();case 20:return e.next=22,O(this,ip).initialize();case 22:return e.next=24,O(this,sp).initialize();case 24:return e.next=26,O(this,op).initialize();case 26:return e.next=28,O(this,up).initialize();case 28:return e.next=30,O(this,cp).initialize();case 30:return e.next=32,O(this,np).initialize();case 32:$on("debug.push",(function(e,t){return m(r,fp,yp).call(r,"message",[e,t])}));case 33:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"start",value:(a=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(this,np).start());case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"ping",value:(n=A(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(this,np).ping());case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"command",value:(r=A(x().mark((function e(t,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(this,np).command(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"attach",value:(t=A(x().mark((function e(t){var r,n,a,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(r=s(t,2),n=r[0],!(a=r[1]).sync){e.next=6;break}return e.next=6,O(this,tp).sync(n,a.sync);case 6:e.t0=x().keys(a);case 7:if((e.t1=e.t0()).done){e.next=15;break}if("sync"!==(i=e.t1.value)){e.next=11;break}return e.abrupt("continue",7);case 11:return e.next=13,m(this,pp,_p).call(this,n,i,a[i]);case 13:e.next=7;break;case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}();function vp(e,t){if(t){var r=new Map;for(var n in t)r.set(n,t[n]);O(this,Vf).set(e,r)}}function yp(e,t){return wp.apply(this,arguments)}function wp(){return(wp=A(x().mark((function e(t,r){var n,a,i,o,u,c,l,h;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="boardcast"===e.t0?3:"connect"===e.t0?4:14;break;case 3:return e.abrupt("return");case 4:return O(this,tp).$i(r.database),O(this,rp).$i(r.question),O(this,ap).$i(r.user),O(this,ip).$i(r.game),O(this,sp).$i(r.rank),O(this,np).$i(r.session),O(this,op).$i(r.achievement),O(this,up).$i(r.asset),O(this,cp).$i(r.shop),e.abrupt("return");case 14:if(n=s(r,2),a=n[0],i=n[1],a){e.next=17;break}return e.abrupt("return");case 17:if(o=a.split("."),u=s(o,2),c=u[0],l=u[1],(h=O(this,Vf).get(c))&&h.has(l)){e.next=21;break}return e.abrupt("return");case 21:h.get(l)(i);case 22:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function _p(e,t,r){return bp.apply(this,arguments)}function bp(){return(bp=A(x().mark((function e(t,r,n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next=0===e.t0||"game.resume"===e.t0?3:4;break;case 3:return e.abrupt("break",5);case 4:return e.abrupt("return");case 5:return e.next=7,m(this,fp,yp).call(this,"message",[r,n]);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}t("default",dp)}}}))}();
//# sourceMappingURL=index-legacy.6ed76fdb.js.map
